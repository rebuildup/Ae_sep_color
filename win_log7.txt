2025-11-10T13:05:29.3262963Z Current runner version: '2.329.0'
2025-11-10T13:05:29.3290969Z ##[group]Runner Image Provisioner
2025-11-10T13:05:29.3292539Z Hosted Compute Agent
2025-11-10T13:05:29.3293358Z Version: 20251016.436
2025-11-10T13:05:29.3294351Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-11-10T13:05:29.3295439Z Build Date: 2025-10-15T20:44:12Z
2025-11-10T13:05:29.3296308Z ##[endgroup]
2025-11-10T13:05:29.3297106Z ##[group]Operating System
2025-11-10T13:05:29.3297959Z Microsoft Windows Server 2025
2025-11-10T13:05:29.3298803Z 10.0.26100
2025-11-10T13:05:29.3299557Z Datacenter
2025-11-10T13:05:29.3300232Z ##[endgroup]
2025-11-10T13:05:29.3300992Z ##[group]Runner Image
2025-11-10T13:05:29.3301882Z Image: windows-2025
2025-11-10T13:05:29.3302634Z Version: 20251102.77.1
2025-11-10T13:05:29.3304212Z Included Software: https://github.com/actions/runner-images/blob/win25/20251102.77/images/windows/Windows2025-Readme.md
2025-11-10T13:05:29.3307127Z Image Release: https://github.com/actions/runner-images/releases/tag/win25%2F20251102.77
2025-11-10T13:05:29.3308855Z ##[endgroup]
2025-11-10T13:05:29.3310624Z ##[group]GITHUB_TOKEN Permissions
2025-11-10T13:05:29.3313317Z Contents: read
2025-11-10T13:05:29.3314529Z Metadata: read
2025-11-10T13:05:29.3315409Z Packages: read
2025-11-10T13:05:29.3316110Z ##[endgroup]
2025-11-10T13:05:29.3318924Z Secret source: Actions
2025-11-10T13:05:29.3319999Z Prepare workflow directory
2025-11-10T13:05:29.3718881Z Prepare all required actions
2025-11-10T13:05:29.3758058Z Getting action download info
2025-11-10T13:05:29.6855199Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-11-10T13:05:29.8203741Z Download action repository 'maxim-lobanov/setup-xcode@v1' (SHA:60606e260d2fc5762a71e64e74b2174e8ea3c8bd)
2025-11-10T13:05:30.1849359Z Download action repository 'microsoft/setup-msbuild@v2' (SHA:6fb02220983dee41ce7ae257b6f4d8f9bf5ed4ce)
2025-11-10T13:05:30.4674221Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-11-10T13:05:30.8087137Z Complete job name: Build and Test (Unsigned) (windows-latest)
2025-11-10T13:05:30.9825579Z ##[group]Run actions/checkout@v4
2025-11-10T13:05:30.9826774Z with:
2025-11-10T13:05:30.9827176Z   submodules: recursive
2025-11-10T13:05:30.9827615Z   fetch-depth: 0
2025-11-10T13:05:30.9828040Z   repository: rebuildup/Ae_sep_color
2025-11-10T13:05:30.9828801Z   token: ***
2025-11-10T13:05:30.9829187Z   ssh-strict: true
2025-11-10T13:05:30.9829585Z   ssh-user: git
2025-11-10T13:05:30.9830000Z   persist-credentials: true
2025-11-10T13:05:30.9830453Z   clean: true
2025-11-10T13:05:30.9830875Z   sparse-checkout-cone-mode: true
2025-11-10T13:05:30.9831386Z   fetch-tags: false
2025-11-10T13:05:30.9831795Z   show-progress: true
2025-11-10T13:05:30.9832228Z   lfs: false
2025-11-10T13:05:30.9832604Z   set-safe-directory: true
2025-11-10T13:05:30.9833265Z ##[endgroup]
2025-11-10T13:05:31.1529120Z Syncing repository: rebuildup/Ae_sep_color
2025-11-10T13:05:31.1530933Z ##[group]Getting Git version info
2025-11-10T13:05:31.1531611Z Working directory is 'D:\a\Ae_sep_color\Ae_sep_color'
2025-11-10T13:05:31.2745177Z [command]"C:\Program Files\Git\bin\git.exe" version
2025-11-10T13:05:31.7381493Z git version 2.51.2.windows.1
2025-11-10T13:05:31.7440988Z ##[endgroup]
2025-11-10T13:05:31.7463729Z Temporarily overriding HOME='D:\a\_temp\6defaa22-deb7-4b08-8a84-f11f34f642bd' before making global git config changes
2025-11-10T13:05:31.7465538Z Adding repository directory to the temporary git global config as a safe directory
2025-11-10T13:05:31.7475763Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\Ae_sep_color\Ae_sep_color
2025-11-10T13:05:31.8059293Z Deleting the contents of 'D:\a\Ae_sep_color\Ae_sep_color'
2025-11-10T13:05:31.8065969Z ##[group]Initializing the repository
2025-11-10T13:05:31.8076569Z [command]"C:\Program Files\Git\bin\git.exe" init D:\a\Ae_sep_color\Ae_sep_color
2025-11-10T13:05:31.8963041Z Initialized empty Git repository in D:/a/Ae_sep_color/Ae_sep_color/.git/
2025-11-10T13:05:31.9013713Z [command]"C:\Program Files\Git\bin\git.exe" remote add origin https://github.com/rebuildup/Ae_sep_color
2025-11-10T13:05:31.9654717Z ##[endgroup]
2025-11-10T13:05:31.9656371Z ##[group]Disabling automatic garbage collection
2025-11-10T13:05:31.9667147Z [command]"C:\Program Files\Git\bin\git.exe" config --local gc.auto 0
2025-11-10T13:05:31.9988982Z ##[endgroup]
2025-11-10T13:05:31.9989962Z ##[group]Setting up auth
2025-11-10T13:05:32.0003446Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2025-11-10T13:05:32.0313964Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2025-11-10T13:05:33.9512806Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-10T13:05:33.9834247Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2025-11-10T13:05:34.5272260Z [command]"C:\Program Files\Git\bin\git.exe" config --local http.https://github.com/.extraheader "AUTHORIZATION: basic ***"
2025-11-10T13:05:34.5600284Z ##[endgroup]
2025-11-10T13:05:34.5601094Z ##[group]Fetching the repository
2025-11-10T13:05:34.5616077Z [command]"C:\Program Files\Git\bin\git.exe" -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
2025-11-10T13:05:47.3036686Z From https://github.com/rebuildup/Ae_sep_color
2025-11-10T13:05:47.3037597Z  * [new branch]      main       -> origin/main
2025-11-10T13:05:47.3427899Z [command]"C:\Program Files\Git\bin\git.exe" branch --list --remote origin/main
2025-11-10T13:05:47.3770028Z   origin/main
2025-11-10T13:05:47.3828719Z [command]"C:\Program Files\Git\bin\git.exe" rev-parse refs/remotes/origin/main
2025-11-10T13:05:47.4204946Z f1534668092139a3dcf1bc9e685f56df4d1e4fd6
2025-11-10T13:05:47.4242488Z ##[endgroup]
2025-11-10T13:05:47.4243096Z ##[group]Determining the checkout info
2025-11-10T13:05:47.4245131Z ##[endgroup]
2025-11-10T13:05:47.4256458Z [command]"C:\Program Files\Git\bin\git.exe" sparse-checkout disable
2025-11-10T13:05:47.4676204Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all extensions.worktreeConfig
2025-11-10T13:05:47.4995641Z ##[group]Checking out the ref
2025-11-10T13:05:47.5016603Z [command]"C:\Program Files\Git\bin\git.exe" checkout --progress --force -B main refs/remotes/origin/main
2025-11-10T13:05:48.8534089Z Updating files:  56% (68/121)
2025-11-10T13:05:48.8539779Z Updating files:  57% (69/121)
2025-11-10T13:05:48.8543435Z Updating files:  58% (71/121)
2025-11-10T13:05:48.8554925Z Updating files:  59% (72/121)
2025-11-10T13:05:48.8557696Z Updating files:  60% (73/121)
2025-11-10T13:05:48.8564160Z Updating files:  61% (74/121)
2025-11-10T13:05:48.8567101Z Updating files:  62% (76/121)
2025-11-10T13:05:48.8573232Z Updating files:  63% (77/121)
2025-11-10T13:05:48.8987072Z Updating files:  64% (78/121)
2025-11-10T13:05:48.8989377Z Updating files:  65% (79/121)
2025-11-10T13:05:48.8994612Z Updating files:  66% (80/121)
2025-11-10T13:05:48.9000002Z Updating files:  67% (82/121)
2025-11-10T13:05:48.9069581Z Updating files:  68% (83/121)
2025-11-10T13:05:48.9070320Z Updating files:  69% (84/121)
2025-11-10T13:05:48.9075361Z Updating files:  70% (85/121)
2025-11-10T13:05:48.9082204Z Updating files:  71% (86/121)
2025-11-10T13:05:48.9084570Z Updating files:  72% (88/121)
2025-11-10T13:05:48.9087527Z Updating files:  73% (89/121)
2025-11-10T13:05:48.9092856Z Updating files:  74% (90/121)
2025-11-10T13:05:48.9095733Z Updating files:  75% (91/121)
2025-11-10T13:05:48.9100632Z Updating files:  76% (92/121)
2025-11-10T13:05:48.9102874Z Updating files:  77% (94/121)
2025-11-10T13:05:48.9106736Z Updating files:  78% (95/121)
2025-11-10T13:05:48.9109902Z Updating files:  79% (96/121)
2025-11-10T13:05:48.9115635Z Updating files:  80% (97/121)
2025-11-10T13:05:48.9118304Z Updating files:  81% (99/121)
2025-11-10T13:05:48.9120984Z Updating files:  82% (100/121)
2025-11-10T13:05:48.9123053Z Updating files:  83% (101/121)
2025-11-10T13:05:48.9125927Z Updating files:  84% (102/121)
2025-11-10T13:05:48.9130517Z Updating files:  85% (103/121)
2025-11-10T13:05:48.9133025Z Updating files:  86% (105/121)
2025-11-10T13:05:48.9136099Z Updating files:  87% (106/121)
2025-11-10T13:05:48.9139184Z Updating files:  88% (107/121)
2025-11-10T13:05:48.9140947Z Updating files:  89% (108/121)
2025-11-10T13:05:48.9217831Z Updating files:  90% (109/121)
2025-11-10T13:05:48.9225182Z Updating files:  91% (111/121)
2025-11-10T13:05:48.9248545Z Updating files:  92% (112/121)
2025-11-10T13:05:48.9254749Z Updating files:  93% (113/121)
2025-11-10T13:05:48.9258928Z Updating files:  94% (114/121)
2025-11-10T13:05:48.9263900Z Updating files:  95% (115/121)
2025-11-10T13:05:48.9266236Z Updating files:  96% (117/121)
2025-11-10T13:05:48.9272155Z Updating files:  97% (118/121)
2025-11-10T13:05:48.9277389Z Updating files:  98% (119/121)
2025-11-10T13:05:48.9280521Z Updating files:  99% (120/121)
2025-11-10T13:05:48.9280860Z Updating files: 100% (121/121)
2025-11-10T13:05:48.9281215Z Updating files: 100% (121/121), done.
2025-11-10T13:05:48.9440465Z branch 'main' set up to track 'origin/main'.
2025-11-10T13:05:48.9469898Z Switched to a new branch 'main'
2025-11-10T13:05:48.9652120Z ##[endgroup]
2025-11-10T13:05:48.9652480Z ##[group]Setting up auth for fetching submodules
2025-11-10T13:05:48.9663540Z [command]"C:\Program Files\Git\bin\git.exe" config --global http.https://github.com/.extraheader "AUTHORIZATION: basic ***"
2025-11-10T13:05:48.9996271Z [command]"C:\Program Files\Git\bin\git.exe" config --global --unset-all url.https://github.com/.insteadOf
2025-11-10T13:05:49.0343466Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add url.https://github.com/.insteadOf git@github.com:
2025-11-10T13:05:49.0699402Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add url.https://github.com/.insteadOf org-176191237@github.com:
2025-11-10T13:05:49.1025316Z ##[endgroup]
2025-11-10T13:05:49.1025641Z ##[group]Fetching submodules
2025-11-10T13:05:49.1036275Z [command]"C:\Program Files\Git\bin\git.exe" submodule sync --recursive
2025-11-10T13:05:49.6512129Z [command]"C:\Program Files\Git\bin\git.exe" -c protocol.version=2 submodule update --init --force --recursive
2025-11-10T13:05:50.2097644Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local gc.auto 0"
2025-11-10T13:05:50.7550156Z ##[endgroup]
2025-11-10T13:05:50.7550489Z ##[group]Persisting credentials for submodules
2025-11-10T13:05:50.7563830Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'url\.https\:\/\/github\.com\/\.insteadOf' && git config --local --unset-all 'url.https://github.com/.insteadOf' || :\""
2025-11-10T13:05:51.3134649Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local 'http.https://github.com/.extraheader' 'AUTHORIZATION: basic ***' && git config --local --show-origin --name-only --get-regexp remote.origin.url\""
2025-11-10T13:05:51.8699631Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --add 'url.https://github.com/.insteadOf' 'git@github.com:'"
2025-11-10T13:05:52.4245750Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --add 'url.https://github.com/.insteadOf' 'org-176191237@github.com:'"
2025-11-10T13:05:52.9791485Z ##[endgroup]
2025-11-10T13:05:53.0241687Z [command]"C:\Program Files\Git\bin\git.exe" log -1 --format=%H
2025-11-10T13:05:53.0507644Z f1534668092139a3dcf1bc9e685f56df4d1e4fd6
2025-11-10T13:05:53.0910911Z ##[group]Run microsoft/setup-msbuild@v2
2025-11-10T13:05:53.0911218Z with:
2025-11-10T13:05:53.0911402Z   msbuild-architecture: x86
2025-11-10T13:05:53.0911599Z ##[endgroup]
2025-11-10T13:05:53.2365428Z [command]C:\ProgramData\Chocolatey\bin\vswhere.exe -products * -requires Microsoft.Component.MSBuild -property installationPath -latest
2025-11-10T13:05:53.7563767Z C:\Program Files\Microsoft Visual Studio\2022\Enterprise
2025-11-10T13:05:53.7912435Z ##[group]Run $REPO_ROOT = Get-Location
2025-11-10T13:05:53.7912857Z [36;1m$REPO_ROOT = Get-Location[0m
2025-11-10T13:05:53.7913101Z [36;1m$PROJECT_DIR = $REPO_ROOT[0m
2025-11-10T13:05:53.7913298Z [36;1m[0m
2025-11-10T13:05:53.7913492Z [36;1mif (Test-Path "Template\sep_color") {[0m
2025-11-10T13:05:53.7913814Z [36;1m  $PROJECT_DIR = Join-Path $REPO_ROOT "Template\sep_color"[0m
2025-11-10T13:05:53.7914135Z [36;1m} elseif (Test-Path "sep_color") {[0m
2025-11-10T13:05:53.7914435Z [36;1m  $PROJECT_DIR = Join-Path $REPO_ROOT "sep_color"[0m
2025-11-10T13:05:53.7914681Z [36;1m}[0m
2025-11-10T13:05:53.7914823Z [36;1m[0m
2025-11-10T13:05:53.7915017Z [36;1m$BUILD_DIR = Join-Path $PROJECT_DIR "Win"[0m
2025-11-10T13:05:53.7915369Z [36;1m$EXPECTED_SDK_PATH = (Get-Item (Join-Path $BUILD_DIR "..\..\..")).FullName[0m
2025-11-10T13:05:53.7915682Z [36;1m[0m
2025-11-10T13:05:53.7916091Z [36;1mWrite-Output "project_dir=$PROJECT_DIR" | Out-File -FilePath $env:GITHUB_OUTPUT -Append -Encoding utf8[0m
2025-11-10T13:05:53.7916715Z [36;1mWrite-Output "build_dir=$BUILD_DIR" | Out-File -FilePath $env:GITHUB_OUTPUT -Append -Encoding utf8[0m
2025-11-10T13:05:53.7917352Z [36;1mWrite-Output "expected_sdk_path=$EXPECTED_SDK_PATH" | Out-File -FilePath $env:GITHUB_OUTPUT -Append -Encoding utf8[0m
2025-11-10T13:05:53.8894932Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -command ". '{0}'"
2025-11-10T13:05:53.8895371Z ##[endgroup]
2025-11-10T13:05:54.3154046Z ##[group]Run if [ "win" == "mac" ]; then
2025-11-10T13:05:54.3154398Z [36;1mif [ "win" == "mac" ]; then[0m
2025-11-10T13:05:54.3154657Z [36;1m  echo "project_dir=" >> $GITHUB_OUTPUT[0m
2025-11-10T13:05:54.3154922Z [36;1m  echo "build_dir=" >> $GITHUB_OUTPUT[0m
2025-11-10T13:05:54.3155191Z [36;1m  echo "expected_sdk_path=" >> $GITHUB_OUTPUT[0m
2025-11-10T13:05:54.3155428Z [36;1melse[0m
2025-11-10T13:05:54.3155677Z [36;1m  echo "project_dir=D:\a\Ae_sep_color\Ae_sep_color" >> $GITHUB_OUTPUT[0m
2025-11-10T13:05:54.3156068Z [36;1m  echo "build_dir=D:\a\Ae_sep_color\Ae_sep_color\Win" >> $GITHUB_OUTPUT[0m
2025-11-10T13:05:54.3156404Z [36;1m  echo "expected_sdk_path=D:\a" >> $GITHUB_OUTPUT[0m
2025-11-10T13:05:54.3156648Z [36;1mfi[0m
2025-11-10T13:05:54.3171322Z shell: C:\Program Files\Git\bin\bash.EXE --noprofile --norc -e -o pipefail {0}
2025-11-10T13:05:54.3171677Z ##[endgroup]
2025-11-10T13:05:54.5139371Z ##[group]Run $ErrorActionPreference = "Stop"
2025-11-10T13:05:54.5140332Z [36;1m$ErrorActionPreference = "Stop"[0m
2025-11-10T13:05:54.5140816Z [36;1mfunction LogInfo([string]$Message) { Write-Output ("[INFO] {0}" -f $Message) }[0m
2025-11-10T13:05:54.5141518Z [36;1mfunction LogWarn([string]$Message) { Write-Output ("[WARN] {0}" -f $Message) }[0m
2025-11-10T13:05:54.5142004Z [36;1mfunction LogError([string]$Message) { Write-Output ("[ERROR] {0}" -f $Message) }[0m
2025-11-10T13:05:54.5142383Z [36;1mfunction LogBlank() { Write-Output "" }[0m
2025-11-10T13:05:54.5142622Z [36;1m[0m
2025-11-10T13:05:54.5142782Z [36;1m$EXPECTED_SDK_PATH = "D:\a"[0m
2025-11-10T13:05:54.5142981Z [36;1m[0m
2025-11-10T13:05:54.5143153Z [36;1m# AeSDKが既に存在するか確認[0m
2025-11-10T13:05:54.5143517Z [36;1mif ((Test-Path "$EXPECTED_SDK_PATH\Headers") -and (Test-Path "$EXPECTED_SDK_PATH\Util")) {[0m
2025-11-10T13:05:54.5143999Z [36;1m  LogInfo "AeSDK already exists: $EXPECTED_SDK_PATH"[0m
2025-11-10T13:05:54.5144259Z [36;1m  exit 0[0m
2025-11-10T13:05:54.5144414Z [36;1m}[0m
2025-11-10T13:05:54.5144780Z [36;1m[0m
2025-11-10T13:05:54.5144928Z [36;1m# GitHub APIを使用してリリース情報を取得[0m
2025-11-10T13:05:54.5145140Z [36;1m# リリースタグの候補（優先順位順）[0m
2025-11-10T13:05:54.5145421Z [36;1m$RELEASE_TAG_CANDIDATES = @("sdk", "ae-sdk_25.6_61", "v25.6.61", "25.6.61")[0m
2025-11-10T13:05:54.5146042Z [36;1m$REPO = "rebuildup/my-ae-sdk-storage"[0m
2025-11-10T13:05:54.5146273Z [36;1m[0m
2025-11-10T13:05:54.5146457Z [36;1mLogInfo "Download AeSDK from GitHub releases"[0m
2025-11-10T13:05:54.5146745Z [36;1mWrite-Output "   Repository: $REPO"[0m
2025-11-10T13:05:54.5147070Z [36;1mWrite-Output "   SDK file : AfterEffectsSDK_25.6_61_win.zip"[0m
2025-11-10T13:05:54.5147362Z [36;1m[0m
2025-11-10T13:05:54.5147506Z [36;1m# トークンの確認[0m
2025-11-10T13:05:54.5147688Z [36;1mif (-not $env:GITHUB_TOKEN) {[0m
2025-11-10T13:05:54.5147947Z [36;1m  LogError "GITHUB_TOKEN is not defined"[0m
2025-11-10T13:05:54.5148324Z [36;1m  Write-Output "   Please configure AE_SDK_DOWNLOAD_TOKEN in GitHub Secrets"[0m
2025-11-10T13:05:54.5148657Z [36;1m  exit 1[0m
2025-11-10T13:05:54.5148806Z [36;1m}[0m
2025-11-10T13:05:54.5148941Z [36;1m[0m
2025-11-10T13:05:54.5149080Z [36;1m# リリース情報を取得（複数のタグ候補を試す）[0m
2025-11-10T13:05:54.5149276Z [36;1m$headers = @{[0m
2025-11-10T13:05:54.5149486Z [36;1m  Authorization = "token $env:GITHUB_TOKEN"[0m
2025-11-10T13:05:54.5149778Z [36;1m  Accept = "application/vnd.github.v3+json"[0m
2025-11-10T13:05:54.5150007Z [36;1m}[0m
2025-11-10T13:05:54.5150132Z [36;1m[0m
2025-11-10T13:05:54.5150274Z [36;1m$releaseJson = $null[0m
2025-11-10T13:05:54.5150459Z [36;1m$foundTag = $null[0m
2025-11-10T13:05:54.5150635Z [36;1m[0m
2025-11-10T13:05:54.5150838Z [36;1mforeach ($RELEASE_TAG in $RELEASE_TAG_CANDIDATES) {[0m
2025-11-10T13:05:54.5151184Z [36;1m  LogInfo "Requesting release metadata (tag: $RELEASE_TAG)"[0m
2025-11-10T13:05:54.5151617Z [36;1m  $releaseUrl = "https://api.github.com/repos/$REPO/releases/tags/$RELEASE_TAG"[0m
2025-11-10T13:05:54.5151959Z [36;1m[0m
2025-11-10T13:05:54.5152085Z [36;1m  try {[0m
2025-11-10T13:05:54.5152404Z [36;1m    $releaseJson = Invoke-RestMethod -Uri $releaseUrl -Headers $headers -ErrorAction Stop[0m
2025-11-10T13:05:54.5152785Z [36;1m    $foundTag = $RELEASE_TAG[0m
2025-11-10T13:05:54.5153013Z [36;1m    LogInfo "Release found: $foundTag"[0m
2025-11-10T13:05:54.5153237Z [36;1m    break[0m
2025-11-10T13:05:54.5153389Z [36;1m  } catch {[0m
2025-11-10T13:05:54.5153630Z [36;1m    $statusCode = $_.Exception.Response.StatusCode.value__[0m
2025-11-10T13:05:54.5154003Z [36;1m    LogWarn ("Tag '{0}' not found (HTTP {1})" -f $RELEASE_TAG, $statusCode)[0m
2025-11-10T13:05:54.5154289Z [36;1m  }[0m
2025-11-10T13:05:54.5154425Z [36;1m}[0m
2025-11-10T13:05:54.5154560Z [36;1m[0m
2025-11-10T13:05:54.5154701Z [36;1mif (-not $releaseJson) {[0m
2025-11-10T13:05:54.5156565Z [36;1m  LogWarn "Falling back to latest release"[0m
2025-11-10T13:05:54.5157014Z [36;1m  $releaseUrl = "https://api.github.com/repos/$REPO/releases/latest"[0m
2025-11-10T13:05:54.5157348Z [36;1m[0m
2025-11-10T13:05:54.5157496Z [36;1m  try {[0m
2025-11-10T13:05:54.5157832Z [36;1m    $releaseJson = Invoke-RestMethod -Uri $releaseUrl -Headers $headers -ErrorAction Stop[0m
2025-11-10T13:05:54.5158234Z [36;1m    $foundTag = $releaseJson.tag_name[0m
2025-11-10T13:05:54.5158646Z [36;1m    LogInfo "Latest release located: $foundTag"[0m
2025-11-10T13:05:54.5159012Z [36;1m  } catch {[0m
2025-11-10T13:05:54.5159216Z [36;1m    LogError "Unable to fetch release metadata"[0m
2025-11-10T13:05:54.5159646Z [36;1m    LogError ("HTTP status: {0}" -f $_.Exception.Response.StatusCode.value__)[0m
2025-11-10T13:05:54.5160065Z [36;1m    LogError ("Message    : {0}" -f $_.Exception.Message)[0m
2025-11-10T13:05:54.5160333Z [36;1m    LogBlank[0m
2025-11-10T13:05:54.5160531Z [36;1m    Write-Output "Possible causes:"[0m
2025-11-10T13:05:54.5161050Z [36;1m    Write-Output "  1. Repository missing or private without access"[0m
2025-11-10T13:05:54.5162122Z [36;1m    Write-Output ("  2. Tags not found (checked: {0})" -f ($RELEASE_TAG_CANDIDATES -join ", "))[0m
2025-11-10T13:05:54.5162564Z [36;1m    Write-Output "  3. GitHub token lacks required scopes"[0m
2025-11-10T13:05:54.5162922Z [36;1m    Write-Output "  4. AE_SDK_DOWNLOAD_TOKEN is not configured"[0m
2025-11-10T13:05:54.5163206Z [36;1m    exit 1[0m
2025-11-10T13:05:54.5163363Z [36;1m  }[0m
2025-11-10T13:05:54.5163500Z [36;1m}[0m
2025-11-10T13:05:54.5163628Z [36;1m[0m
2025-11-10T13:05:54.5163886Z [36;1m$releaseJson.assets | ForEach-Object { Write-Output "   - $($_.name)" }[0m
2025-11-10T13:05:54.5164197Z [36;1m[0m
2025-11-10T13:05:54.5164350Z [36;1m# アセットのダウンロードURLを取得[0m
2025-11-10T13:05:54.5164786Z [36;1m$asset = $releaseJson.assets | Where-Object { $_.name -eq "AfterEffectsSDK_25.6_61_win.zip" } | Select-Object -First 1[0m
2025-11-10T13:05:54.5165239Z [36;1m[0m
2025-11-10T13:05:54.5165391Z [36;1mif (-not $asset) {[0m
2025-11-10T13:05:54.5165711Z [36;1m  LogError ("SDK asset not found: {0}" -f "AfterEffectsSDK_25.6_61_win.zip")[0m
2025-11-10T13:05:54.5166051Z [36;1m  Write-Output "Available assets:"[0m
2025-11-10T13:05:54.5166394Z [36;1m  $releaseJson.assets | ForEach-Object { Write-Output "   - $($_.name)" }[0m
2025-11-10T13:05:54.5166712Z [36;1m  exit 1[0m
2025-11-10T13:05:54.5166865Z [36;1m}[0m
2025-11-10T13:05:54.5166998Z [36;1m[0m
2025-11-10T13:05:54.5167143Z [36;1m$apiDownloadUrl = $asset.url[0m
2025-11-10T13:05:54.5167423Z [36;1m$browserDownloadUrl = $asset.browser_download_url[0m
2025-11-10T13:05:54.5167678Z [36;1m[0m
2025-11-10T13:05:54.5167821Z [36;1mif (-not $apiDownloadUrl) {[0m
2025-11-10T13:05:54.5168080Z [36;1m  LogError "Asset is missing an API download URL"[0m
2025-11-10T13:05:54.5168377Z [36;1m  Write-Output ($asset | ConvertTo-Json -Depth 5)[0m
2025-11-10T13:05:54.5168631Z [36;1m  exit 1[0m
2025-11-10T13:05:54.5168776Z [36;1m}[0m
2025-11-10T13:05:54.5168902Z [36;1m[0m
2025-11-10T13:05:54.5169117Z [36;1mLogInfo ("Download URL (API): {0}" -f $apiDownloadUrl)[0m
2025-11-10T13:05:54.5169413Z [36;1mif ($browserDownloadUrl) {[0m
2025-11-10T13:05:54.5169707Z [36;1m  LogInfo ("Download URL (browser): {0}" -f $browserDownloadUrl)[0m
2025-11-10T13:05:54.5169994Z [36;1m}[0m
2025-11-10T13:05:54.5170125Z [36;1m[0m
2025-11-10T13:05:54.5170291Z [36;1mLogInfo "Downloading SDK archive..."[0m
2025-11-10T13:05:54.5170531Z [36;1m$outputPath = "AE_SDK.zip"[0m
2025-11-10T13:05:54.5170738Z [36;1m$downloadHeaders = @{[0m
2025-11-10T13:05:54.5170970Z [36;1m  Authorization = "token $env:GITHUB_TOKEN"[0m
2025-11-10T13:05:54.5171230Z [36;1m  Accept = "application/octet-stream"[0m
2025-11-10T13:05:54.5171489Z [36;1m  "User-Agent" = "GitHub-Actions"[0m
2025-11-10T13:05:54.5171702Z [36;1m}[0m
2025-11-10T13:05:54.5171832Z [36;1m[0m
2025-11-10T13:05:54.5171964Z [36;1mtry {[0m
2025-11-10T13:05:54.5172817Z [36;1m  Invoke-WebRequest -Uri $apiDownloadUrl -Headers $downloadHeaders -OutFile $outputPath -ErrorAction Stop[0m
2025-11-10T13:05:54.5173291Z [36;1m} catch {[0m
2025-11-10T13:05:54.5173547Z [36;1m  LogWarn ("API download failed: {0}" -f $_.Exception.Message)[0m
2025-11-10T13:05:54.5173851Z [36;1m  if ($browserDownloadUrl) {[0m
2025-11-10T13:05:54.5174168Z [36;1m    LogInfo "Retrying with browser download URL (unauthenticated)"[0m
2025-11-10T13:05:54.5174471Z [36;1m    try {[0m
2025-11-10T13:05:54.5174793Z [36;1m      Invoke-WebRequest -Uri $browserDownloadUrl -OutFile $outputPath -ErrorAction Stop[0m
2025-11-10T13:05:54.5175165Z [36;1m    } catch {[0m
2025-11-10T13:05:54.5175357Z [36;1m      LogError "SDK download failed"[0m
2025-11-10T13:05:54.5175700Z [36;1m      LogError ("HTTP status: {0}" -f $_.Exception.Response.StatusCode.value__)[0m
2025-11-10T13:05:54.5176090Z [36;1m      LogError ("Message    : {0}" -f $_.Exception.Message)[0m
2025-11-10T13:05:54.5176358Z [36;1m      exit 1[0m
2025-11-10T13:05:54.5176510Z [36;1m    }[0m
2025-11-10T13:05:54.5176754Z [36;1m  } else {[0m
2025-11-10T13:05:54.5176907Z [36;1m    exit 1[0m
2025-11-10T13:05:54.5177053Z [36;1m  }[0m
2025-11-10T13:05:54.5177191Z [36;1m}[0m
2025-11-10T13:05:54.5177319Z [36;1m[0m
2025-11-10T13:05:54.5177579Z [36;1mif (-not (Test-Path $outputPath) -or (Get-Item $outputPath).Length -eq 0) {[0m
2025-11-10T13:05:54.5177963Z [36;1m  LogError "Downloaded file is missing or empty"[0m
2025-11-10T13:05:54.5178208Z [36;1m  exit 1[0m
2025-11-10T13:05:54.5178353Z [36;1m}[0m
2025-11-10T13:05:54.5178478Z [36;1m[0m
2025-11-10T13:05:54.5178749Z [36;1m$fileSize = (Get-Item $outputPath).Length / 1MB[0m
2025-11-10T13:05:54.5179248Z [36;1mLogInfo ("Download complete ({0} MB)" -f [math]::Round($fileSize, 2))[0m
2025-11-10T13:05:54.5179547Z [36;1m[0m
2025-11-10T13:05:54.5179709Z [36;1mLogInfo "Extracting SDK archive..."[0m
2025-11-10T13:05:54.5180075Z [36;1m$extractDir = Join-Path $env:RUNNER_TEMP ("ae_sdk_" + [Guid]::NewGuid().ToString())[0m
2025-11-10T13:05:54.5180527Z [36;1mNew-Item -ItemType Directory -Path $extractDir -Force | Out-Null[0m
2025-11-10T13:05:54.5180831Z [36;1m[0m
2025-11-10T13:05:54.5181150Z [36;1mtry {[0m
2025-11-10T13:05:54.5181486Z [36;1m  Expand-Archive -Path $outputPath -DestinationPath $extractDir -Force -ErrorAction Stop[0m
2025-11-10T13:05:54.5181868Z [36;1m} catch {[0m
2025-11-10T13:05:54.5182031Z [36;1m  $expandError = $_[0m
2025-11-10T13:05:54.5182231Z [36;1m  if ($SevenZipPath) {[0m
2025-11-10T13:05:54.5182620Z [36;1m    LogWarn ("Expand-Archive failed ({0}); retrying with 7-Zip" -f $expandError.Exception.Message)[0m
2025-11-10T13:05:54.5183096Z [36;1m    & $SevenZipPath x $outputPath ("-o$extractDir") -y | Out-Null[0m
2025-11-10T13:05:54.5183387Z [36;1m  } else {[0m
2025-11-10T13:05:54.5183689Z [36;1m    LogError ("Failed to extract SDK archive: {0}" -f $expandError.Exception.Message)[0m
2025-11-10T13:05:54.5184240Z [36;1m    Get-ChildItem $extractDir -Recurse | Select-Object -First 40 | Format-Table FullName, LastWriteTime[0m
2025-11-10T13:05:54.5184654Z [36;1m    exit 1[0m
2025-11-10T13:05:54.5184800Z [36;1m  }[0m
2025-11-10T13:05:54.5184939Z [36;1m}[0m
2025-11-10T13:05:54.5185075Z [36;1m[0m
2025-11-10T13:05:54.5185229Z [36;1mfunction Get-SevenZipPath {[0m
2025-11-10T13:05:54.5185449Z [36;1m  $candidates = @([0m
2025-11-10T13:05:54.5185662Z [36;1m    "$env:ProgramFiles\7-Zip\7z.exe",[0m
2025-11-10T13:05:54.5185911Z [36;1m    "$env:ProgramFiles(x86)\7-Zip\7z.exe",[0m
2025-11-10T13:05:54.5186164Z [36;1m    "C:\Program Files\7-Zip\7z.exe"[0m
2025-11-10T13:05:54.5186373Z [36;1m  )[0m
2025-11-10T13:05:54.5186549Z [36;1m  foreach ($candidate in $candidates) {[0m
2025-11-10T13:05:54.5186836Z [36;1m    if (Test-Path $candidate) { return $candidate }[0m
2025-11-10T13:05:54.5187082Z [36;1m  }[0m
2025-11-10T13:05:54.5187230Z [36;1m  return $null[0m
2025-11-10T13:05:54.5187632Z [36;1m}[0m
2025-11-10T13:05:54.5187810Z [36;1m[0m
2025-11-10T13:05:54.5187971Z [36;1m$SevenZipPath = Get-SevenZipPath[0m
2025-11-10T13:05:54.5188183Z [36;1m[0m
2025-11-10T13:05:54.5188338Z [36;1mfunction Expand-ArchiveSmart {[0m
2025-11-10T13:05:54.5188554Z [36;1m  param([0m
2025-11-10T13:05:54.5188711Z [36;1m    [string]$Archive,[0m
2025-11-10T13:05:54.5188911Z [36;1m    [string]$Destination[0m
2025-11-10T13:05:54.5189100Z [36;1m  )[0m
2025-11-10T13:05:54.5189232Z [36;1m[0m
2025-11-10T13:05:54.5189399Z [36;1m  $lower = $Archive.ToLowerInvariant()[0m
2025-11-10T13:05:54.5189619Z [36;1m[0m
2025-11-10T13:05:54.5189768Z [36;1m  if ($lower.EndsWith(".zip")) {[0m
2025-11-10T13:05:54.5190117Z [36;1m    Expand-Archive -LiteralPath $Archive -DestinationPath $Destination -Force[0m
2025-11-10T13:05:54.5190462Z [36;1m    return $true[0m
2025-11-10T13:05:54.5190632Z [36;1m  }[0m
2025-11-10T13:05:54.5190757Z [36;1m[0m
2025-11-10T13:05:54.5190905Z [36;1m  if ($SevenZipPath) {[0m
2025-11-10T13:05:54.5191185Z [36;1m    & $SevenZipPath x $Archive ("-o" + $Destination) -y | Out-Null[0m
2025-11-10T13:05:54.5191562Z [36;1m    return $true[0m
2025-11-10T13:05:54.5191728Z [36;1m  }[0m
2025-11-10T13:05:54.5191856Z [36;1m[0m
2025-11-10T13:05:54.5192006Z [36;1m  if ($lower.EndsWith(".tar")) {[0m
2025-11-10T13:05:54.5192238Z [36;1m    & tar -xf $Archive -C $Destination[0m
2025-11-10T13:05:54.5192456Z [36;1m    return $true[0m
2025-11-10T13:05:54.5192621Z [36;1m  }[0m
2025-11-10T13:05:54.5192750Z [36;1m[0m
2025-11-10T13:05:54.5192994Z [36;1m  if ($lower.EndsWith(".tar.gz") -or $lower.EndsWith(".tgz")) {[0m
2025-11-10T13:05:54.5193299Z [36;1m    & tar -xzf $Archive -C $Destination[0m
2025-11-10T13:05:54.5193522Z [36;1m    return $true[0m
2025-11-10T13:05:54.5193681Z [36;1m  }[0m
2025-11-10T13:05:54.5193814Z [36;1m[0m
2025-11-10T13:05:54.5194099Z [36;1m  if ($lower.EndsWith(".tar.bz2") -or $lower.EndsWith(".tbz") -or $lower.EndsWith(".tbz2")) {[0m
2025-11-10T13:05:54.5194474Z [36;1m    & tar -xjf $Archive -C $Destination[0m
2025-11-10T13:05:54.5194702Z [36;1m    return $true[0m
2025-11-10T13:05:54.5194866Z [36;1m  }[0m
2025-11-10T13:05:54.5194995Z [36;1m[0m
2025-11-10T13:05:54.5195247Z [36;1m  if ($lower.EndsWith(".tar.xz") -or $lower.EndsWith(".txz")) {[0m
2025-11-10T13:05:54.5195544Z [36;1m    & tar -xJf $Archive -C $Destination[0m
2025-11-10T13:05:54.5195776Z [36;1m    return $true[0m
2025-11-10T13:05:54.5195940Z [36;1m  }[0m
2025-11-10T13:05:54.5196067Z [36;1m[0m
2025-11-10T13:05:54.5196282Z [36;1m  LogWarn ("Unsupported archive format: {0}" -f $Archive)[0m
2025-11-10T13:05:54.5196562Z [36;1m  return $false[0m
2025-11-10T13:05:54.5196724Z [36;1m}[0m
2025-11-10T13:05:54.5196859Z [36;1m[0m
2025-11-10T13:05:54.5197014Z [36;1mfunction Expand-NestedArchives {[0m
2025-11-10T13:05:54.5197246Z [36;1m  param([string]$Root)[0m
2025-11-10T13:05:54.5197454Z [36;1m  for ($i = 0; $i -lt 6; $i++) {[0m
2025-11-10T13:05:54.5197809Z [36;1m    $archives = Get-ChildItem -Path $Root -Recurse -File -ErrorAction SilentlyContinue |[0m
2025-11-10T13:05:54.5198362Z [36;1m      Where-Object { $_.Name -match '\.(zip|tar|tgz|tar\.gz|tbz|tar\.bz2|txz|tar\.xz|tar\.zst|tar\.zstd|zst|zstd)$' }[0m
2025-11-10T13:05:54.5198773Z [36;1m    if (-not $archives) { break }[0m
2025-11-10T13:05:54.5199119Z [36;1m[0m
2025-11-10T13:05:54.5199311Z [36;1m    $expanded = $false[0m
2025-11-10T13:05:54.5199520Z [36;1m    foreach ($archive in $archives) {[0m
2025-11-10T13:05:54.5199807Z [36;1m      if (-not (Test-Path $archive.FullName)) { continue }[0m
2025-11-10T13:05:54.5200275Z [36;1m      $dest = Join-Path $archive.Directory.FullName ("nested_{0}_{1}" -f $i, [Guid]::NewGuid().ToString('N'))[0m
2025-11-10T13:05:54.5200756Z [36;1m      New-Item -ItemType Directory -Force -Path $dest | Out-Null[0m
2025-11-10T13:05:54.5201449Z [36;1m      if (Expand-ArchiveSmart -Archive $archive.FullName -Destination $dest) {[0m
2025-11-10T13:05:54.5201910Z [36;1m        Remove-Item $archive.FullName -Force -ErrorAction SilentlyContinue[0m
2025-11-10T13:05:54.5202250Z [36;1m        $expanded = $true[0m
2025-11-10T13:05:54.5202453Z [36;1m      } else {[0m
2025-11-10T13:05:54.5202727Z [36;1m        Remove-Item -Recurse -Force $dest -ErrorAction SilentlyContinue[0m
2025-11-10T13:05:54.5203023Z [36;1m      }[0m
2025-11-10T13:05:54.5203172Z [36;1m    }[0m
2025-11-10T13:05:54.5203313Z [36;1m[0m
2025-11-10T13:05:54.5203465Z [36;1m    if (-not $expanded) { break }[0m
2025-11-10T13:05:54.5203675Z [36;1m  }[0m
2025-11-10T13:05:54.5203807Z [36;1m}[0m
2025-11-10T13:05:54.5203938Z [36;1m[0m
2025-11-10T13:05:54.5204113Z [36;1mExpand-NestedArchives -Root $extractDir[0m
2025-11-10T13:05:54.5204338Z [36;1m[0m
2025-11-10T13:05:54.5204491Z [36;1mfunction Get-SdkSourceDirs {[0m
2025-11-10T13:05:54.5204709Z [36;1m  param([string]$root)[0m
2025-11-10T13:05:54.5205097Z [36;1m  $headersDirs = Get-ChildItem -Path $root -Directory -Recurse -ErrorAction SilentlyContinue |[0m
2025-11-10T13:05:54.5205522Z [36;1m    Where-Object { $_.Name -ieq "Headers" }[0m
2025-11-10T13:05:54.5205844Z [36;1m[0m
2025-11-10T13:05:54.5206008Z [36;1m  foreach ($hdr in $headersDirs) {[0m
2025-11-10T13:05:54.5206298Z [36;1m    $utilPath = Join-Path $hdr.Parent.FullName "Util"[0m
2025-11-10T13:05:54.5206574Z [36;1m    if (Test-Path $utilPath) {[0m
2025-11-10T13:05:54.5206815Z [36;1m      return [pscustomobject]@{[0m
2025-11-10T13:05:54.5207048Z [36;1m        Headers = $hdr.FullName[0m
2025-11-10T13:05:54.5207258Z [36;1m        Util    = $utilPath[0m
2025-11-10T13:05:54.5207487Z [36;1m        Root    = $hdr.Parent.FullName[0m
2025-11-10T13:05:54.5207700Z [36;1m      }[0m
2025-11-10T13:05:54.5207856Z [36;1m    }[0m
2025-11-10T13:05:54.5208003Z [36;1m  }[0m
2025-11-10T13:05:54.5208146Z [36;1m  return $null[0m
2025-11-10T13:05:54.5208311Z [36;1m}[0m
2025-11-10T13:05:54.5208441Z [36;1m[0m
2025-11-10T13:05:54.5208612Z [36;1mfunction Invoke-SdkPrepScripts {[0m
2025-11-10T13:05:54.5208842Z [36;1m  param([string]$root)[0m
2025-11-10T13:05:54.5209213Z [36;1m  $scripts = Get-ChildItem -Path $root -Filter "*.bat" -Recurse -ErrorAction SilentlyContinue |[0m
2025-11-10T13:05:54.5209734Z [36;1m    Where-Object { $_.Name -match '(setup|install|extract|expand|prepare|unpack)' } |[0m
2025-11-10T13:05:54.5210095Z [36;1m    Sort-Object FullName[0m
2025-11-10T13:05:54.5210283Z [36;1m[0m
2025-11-10T13:05:54.5210443Z [36;1m  foreach ($script in $scripts) {[0m
2025-11-10T13:05:54.5210736Z [36;1m    LogInfo ("Running vendor script: {0}" -f $script.FullName)[0m
2025-11-10T13:05:54.5211085Z [36;1m    Push-Location -LiteralPath $script.DirectoryName[0m
2025-11-10T13:05:54.5211354Z [36;1m    try {[0m
2025-11-10T13:05:54.5211540Z [36;1m      & cmd.exe /c "`"$($script.FullName)`""[0m
2025-11-10T13:05:54.5211775Z [36;1m    } finally {[0m
2025-11-10T13:05:54.5211957Z [36;1m      Pop-Location[0m
2025-11-10T13:05:54.5212131Z [36;1m    }[0m
2025-11-10T13:05:54.5212273Z [36;1m[0m
2025-11-10T13:05:54.5212425Z [36;1m    if ($LASTEXITCODE -ne 0) {[0m
2025-11-10T13:05:54.5212701Z [36;1m      LogWarn ("Script exited with code {0}" -f $LASTEXITCODE)[0m
2025-11-10T13:05:54.5212971Z [36;1m    }[0m
2025-11-10T13:05:54.5213102Z [36;1m[0m
2025-11-10T13:05:54.5213276Z [36;1m    $result = Get-SdkSourceDirs -root $root[0m
2025-11-10T13:05:54.5213529Z [36;1m    if ($result) { return $result }[0m
2025-11-10T13:05:54.5213737Z [36;1m  }[0m
2025-11-10T13:05:54.5213874Z [36;1m[0m
2025-11-10T13:05:54.5214006Z [36;1m  return $null[0m
2025-11-10T13:05:54.5214174Z [36;1m}[0m
2025-11-10T13:05:54.5214306Z [36;1m[0m
2025-11-10T13:05:54.5214450Z [36;1mfunction Invoke-BuildAll {[0m
2025-11-10T13:05:54.5214665Z [36;1m  param([string]$root)[0m
2025-11-10T13:05:54.5215536Z [36;1m  $solution = Get-ChildItem -Path $root -Recurse -Filter "BuildAll.sln" -ErrorAction SilentlyContinue |[0m
2025-11-10T13:05:54.5216020Z [36;1m    Select-Object -First 1[0m
2025-11-10T13:05:54.5216222Z [36;1m[0m
2025-11-10T13:05:54.5216370Z [36;1m  if ($solution) {[0m
2025-11-10T13:05:54.5216655Z [36;1m    LogInfo ("Building vendor solution: {0}" -f $solution.FullName)[0m
2025-11-10T13:05:54.5216993Z [36;1m    & msbuild $solution.FullName `[0m
2025-11-10T13:05:54.5217204Z [36;1m      /m `[0m
2025-11-10T13:05:54.5217387Z [36;1m      /p:Configuration=Release `[0m
2025-11-10T13:05:54.5217609Z [36;1m      /p:Platform=x64 `[0m
2025-11-10T13:05:54.5217808Z [36;1m      /v:minimal[0m
2025-11-10T13:05:54.5217984Z [36;1m  } else {[0m
2025-11-10T13:05:54.5218237Z [36;1m    LogWarn "BuildAll.sln not found; skipping vendor compilation"[0m
2025-11-10T13:05:54.5218533Z [36;1m  }[0m
2025-11-10T13:05:54.5218676Z [36;1m}[0m
2025-11-10T13:05:54.5218803Z [36;1m[0m
2025-11-10T13:05:54.5219019Z [36;1m$sources = Get-SdkSourceDirs -root $extractDir[0m
2025-11-10T13:05:54.5219447Z [36;1mif (-not $sources) {[0m
2025-11-10T13:05:54.5219701Z [36;1m  $sources = Invoke-SdkPrepScripts -root $extractDir[0m
2025-11-10T13:05:54.5220594Z [36;1m}[0m
2025-11-10T13:05:54.5220747Z [36;1m[0m
2025-11-10T13:05:54.5220903Z [36;1mif (-not $sources) {[0m
2025-11-10T13:05:54.5221440Z [36;1m  LogError "Headers/Util directories not found inside SDK archive"[0m
2025-11-10T13:05:54.5221949Z [36;1m  Get-ChildItem $extractDir -Recurse -Directory | Select-Object -First 40 | Format-Table FullName[0m
2025-11-10T13:05:54.5222351Z [36;1m  exit 1[0m
2025-11-10T13:05:54.5222495Z [36;1m}[0m
2025-11-10T13:05:54.5222629Z [36;1m[0m
2025-11-10T13:05:54.5222779Z [36;1m$sdkRoot = $sources.Root[0m
2025-11-10T13:05:54.5222966Z [36;1m[0m
2025-11-10T13:05:54.5223122Z [36;1mInvoke-BuildAll -root $sdkRoot[0m
2025-11-10T13:05:54.5223327Z [36;1m[0m
2025-11-10T13:05:54.5223509Z [36;1m$projectDir = "D:\a\Ae_sep_color\Ae_sep_color"[0m
2025-11-10T13:05:54.5223821Z [36;1mif ($projectDir -and (Test-Path $projectDir)) {[0m
2025-11-10T13:05:54.5224140Z [36;1m  $sdkTemplateRoot = Join-Path $sdkRoot "Template"[0m
2025-11-10T13:05:54.5224527Z [36;1m  New-Item -ItemType Directory -Force -Path $sdkTemplateRoot | Out-Null[0m
2025-11-10T13:05:54.5224991Z [36;1m  $targetTemplate = Join-Path $sdkTemplateRoot (Split-Path $projectDir -Leaf)[0m
2025-11-10T13:05:54.5225360Z [36;1m  if (Test-Path $targetTemplate) {[0m
2025-11-10T13:05:54.5225715Z [36;1m    Remove-Item -Recurse -Force $targetTemplate -ErrorAction SilentlyContinue[0m
2025-11-10T13:05:54.5226046Z [36;1m  }[0m
2025-11-10T13:05:54.5226298Z [36;1m  LogInfo ("Copying project into SDK template: {0}" -f $targetTemplate)[0m
2025-11-10T13:05:54.5226686Z [36;1m  Copy-Item -Recurse -Force $projectDir $targetTemplate[0m
2025-11-10T13:05:54.5226951Z [36;1m}[0m
2025-11-10T13:05:54.5227079Z [36;1m[0m
2025-11-10T13:05:54.5227341Z [36;1mNew-Item -ItemType Directory -Force -Path $EXPECTED_SDK_PATH | Out-Null[0m
2025-11-10T13:05:54.5227865Z [36;1mRemove-Item -Recurse -Force (Join-Path $EXPECTED_SDK_PATH "Headers") -ErrorAction SilentlyContinue[0m
2025-11-10T13:05:54.5228468Z [36;1mRemove-Item -Recurse -Force (Join-Path $EXPECTED_SDK_PATH "Util") -ErrorAction SilentlyContinue[0m
2025-11-10T13:05:54.5229023Z [36;1mCopy-Item -Recurse -Force $sources.Headers (Join-Path $EXPECTED_SDK_PATH "Headers")[0m
2025-11-10T13:05:54.5229516Z [36;1mCopy-Item -Recurse -Force $sources.Util (Join-Path $EXPECTED_SDK_PATH "Util")[0m
2025-11-10T13:05:54.5229848Z [36;1m[0m
2025-11-10T13:05:54.5230145Z [36;1mif ((Test-Path "$EXPECTED_SDK_PATH\Headers") -and (Test-Path "$EXPECTED_SDK_PATH\Util")) {[0m
2025-11-10T13:05:54.5230665Z [36;1m  $headerCount = (Get-ChildItem "$EXPECTED_SDK_PATH\Headers" -File | Measure-Object).Count[0m
2025-11-10T13:05:54.5231176Z [36;1m  $utilCount = (Get-ChildItem "$EXPECTED_SDK_PATH\Util" -File | Measure-Object).Count[0m
2025-11-10T13:05:54.5231547Z [36;1m  LogInfo "AeSDK setup complete"[0m
2025-11-10T13:05:54.5231992Z [36;1m  LogInfo ("Headers: {0}\Headers ({1} files)" -f $EXPECTED_SDK_PATH, $headerCount)[0m
2025-11-10T13:05:54.5232427Z [36;1m  LogInfo ("Util    : {0}\Util ({1} files)" -f $EXPECTED_SDK_PATH, $utilCount)[0m
2025-11-10T13:05:54.5232723Z [36;1m} else {[0m
2025-11-10T13:05:54.5232894Z [36;1m  LogError "AeSDK setup failed"[0m
2025-11-10T13:05:54.5233196Z [36;1m  Write-Output ("Expected path: {0}" -f $EXPECTED_SDK_PATH)[0m
2025-11-10T13:05:54.5233502Z [36;1m  Write-Output "Presence check:"[0m
2025-11-10T13:05:54.5233744Z [36;1m  if (Test-Path "$EXPECTED_SDK_PATH") {[0m
2025-11-10T13:05:54.5234024Z [36;1m    Write-Output "  - Root directory exists"[0m
2025-11-10T13:05:54.5234262Z [36;1m  } else {[0m
2025-11-10T13:05:54.5234467Z [36;1m    Write-Output "  - Root directory is missing"[0m
2025-11-10T13:05:54.5234713Z [36;1m  }[0m
2025-11-10T13:05:54.5234907Z [36;1m  if (Test-Path "$EXPECTED_SDK_PATH\Headers") {[0m
2025-11-10T13:05:54.5235193Z [36;1m    Write-Output "  - Headers\ exists"[0m
2025-11-10T13:05:54.5235423Z [36;1m  } else {[0m
2025-11-10T13:05:54.5235610Z [36;1m    Write-Output "  - Headers\ is missing"[0m
2025-11-10T13:05:54.5235936Z [36;1m  }[0m
2025-11-10T13:05:54.5236122Z [36;1m  if (Test-Path "$EXPECTED_SDK_PATH\Util") {[0m
2025-11-10T13:05:54.5236378Z [36;1m    Write-Output "  - Util\ exists"[0m
2025-11-10T13:05:54.5236600Z [36;1m  } else {[0m
2025-11-10T13:05:54.5236778Z [36;1m    Write-Output "  - Util\ is missing"[0m
2025-11-10T13:05:54.5236998Z [36;1m  }[0m
2025-11-10T13:05:54.5237174Z [36;1m  Write-Output "Expanded directories:"[0m
2025-11-10T13:05:54.5237464Z [36;1m  $parentDir = Split-Path -Parent $EXPECTED_SDK_PATH[0m
2025-11-10T13:05:54.5237925Z [36;1m  Get-ChildItem $parentDir | Select-Object -First 20 | Format-Table Name, Length, LastWriteTime[0m
2025-11-10T13:05:54.5238314Z [36;1m  exit 1[0m
2025-11-10T13:05:54.5238455Z [36;1m}[0m
2025-11-10T13:05:54.5238592Z [36;1m[0m
2025-11-10T13:05:54.5238829Z [36;1mRemove-Item $outputPath -Force -ErrorAction SilentlyContinue[0m
2025-11-10T13:05:54.5239324Z [36;1mRemove-Item $extractDir -Recurse -Force -ErrorAction SilentlyContinue[0m
2025-11-10T13:05:54.5301143Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -command ". '{0}'"
2025-11-10T13:05:54.5301522Z env:
2025-11-10T13:05:54.5302571Z   GITHUB_TOKEN: ***
2025-11-10T13:05:54.5302750Z ##[endgroup]
2025-11-10T13:05:54.9265025Z [INFO] Download AeSDK from GitHub releases
2025-11-10T13:05:54.9267334Z    Repository: rebuildup/my-ae-sdk-storage
2025-11-10T13:05:54.9269864Z    SDK file : AfterEffectsSDK_25.6_61_win.zip
2025-11-10T13:05:54.9291089Z [INFO] Requesting release metadata (tag: sdk)
2025-11-10T13:05:55.1379518Z [INFO] Release found: sdk
2025-11-10T13:05:55.1441308Z    - AfterEffectsSDK_25.6_61_mac.zip
2025-11-10T13:05:55.1444167Z    - AfterEffectsSDK_25.6_61_win.zip
2025-11-10T13:05:55.1594241Z [INFO] Download URL (API): https://api.github.com/repos/rebuildup/my-ae-sdk-storage/releases/assets/314511555
2025-11-10T13:05:55.1605073Z [INFO] Download URL (browser): https://github.com/rebuildup/my-ae-sdk-storage/releases/download/sdk/AfterEffectsSDK_25.6_61_win.zip
2025-11-10T13:05:55.1607589Z [INFO] Downloading SDK archive...
2025-11-10T13:06:06.0719863Z [INFO] Download complete (7.2 MB)
2025-11-10T13:06:06.0722074Z [INFO] Extracting SDK archive...
2025-11-10T13:06:08.6995584Z Expand-Archive : Exception calling "ExtractToFile" with "3" argument(s): "The archive entry was compressed using an 
2025-11-10T13:06:08.6996527Z unsupported compression method."
2025-11-10T13:06:08.6997056Z At D:\a\_temp\0ab6e1a3-8748-405d-9829-8b00f94563e2.ps1:180 char:5
2025-11-10T13:06:08.6997690Z +     Expand-Archive -LiteralPath $Archive -DestinationPath $Destinatio ...
2025-11-10T13:06:08.6998299Z +     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2025-11-10T13:06:08.6998963Z     + CategoryInfo          : NotSpecified: (:) [Expand-Archive], MethodInvocationException
2025-11-10T13:06:08.6999991Z     + FullyQualifiedErrorId : InvalidDataException,Expand-Archive
2025-11-10T13:06:08.7000365Z  
2025-11-10T13:06:08.7217643Z ##[error]Process completed with exit code 1.
2025-11-10T13:06:08.7435858Z Post job cleanup.
2025-11-10T13:06:08.9738572Z [command]"C:\Program Files\Git\bin\git.exe" version
2025-11-10T13:06:09.0011777Z git version 2.51.2.windows.1
2025-11-10T13:06:09.0088915Z Temporarily overriding HOME='D:\a\_temp\b0d0dfd6-aea4-4a84-8b6a-498126948fc0' before making global git config changes
2025-11-10T13:06:09.0089585Z Adding repository directory to the temporary git global config as a safe directory
2025-11-10T13:06:09.0100039Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\Ae_sep_color\Ae_sep_color
2025-11-10T13:06:09.0423543Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2025-11-10T13:06:09.0778892Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2025-11-10T13:06:09.6668308Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-10T13:06:09.6954167Z http.https://github.com/.extraheader
2025-11-10T13:06:09.7008516Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all http.https://github.com/.extraheader
2025-11-10T13:06:09.7357702Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2025-11-10T13:06:10.3589744Z Cleaning up orphan processes
