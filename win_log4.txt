2025-11-10T12:47:34.2510950Z Current runner version: '2.329.0'
2025-11-10T12:47:34.2544131Z ##[group]Runner Image Provisioner
2025-11-10T12:47:34.2545339Z Hosted Compute Agent
2025-11-10T12:47:34.2546221Z Version: 20251016.436
2025-11-10T12:47:34.2547186Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-11-10T12:47:34.2548333Z Build Date: 2025-10-15T20:44:12Z
2025-11-10T12:47:34.2549401Z ##[endgroup]
2025-11-10T12:47:34.2550236Z ##[group]Operating System
2025-11-10T12:47:34.2551180Z Microsoft Windows Server 2025
2025-11-10T12:47:34.2552111Z 10.0.26100
2025-11-10T12:47:34.2552795Z Datacenter
2025-11-10T12:47:34.2553542Z ##[endgroup]
2025-11-10T12:47:34.2554312Z ##[group]Runner Image
2025-11-10T12:47:34.2555140Z Image: windows-2025
2025-11-10T12:47:34.2555921Z Version: 20251102.77.1
2025-11-10T12:47:34.2557593Z Included Software: https://github.com/actions/runner-images/blob/win25/20251102.77/images/windows/Windows2025-Readme.md
2025-11-10T12:47:34.2561011Z Image Release: https://github.com/actions/runner-images/releases/tag/win25%2F20251102.77
2025-11-10T12:47:34.2562704Z ##[endgroup]
2025-11-10T12:47:34.2564382Z ##[group]GITHUB_TOKEN Permissions
2025-11-10T12:47:34.2566857Z Contents: read
2025-11-10T12:47:34.2567683Z Metadata: read
2025-11-10T12:47:34.2568886Z Packages: read
2025-11-10T12:47:34.2569642Z ##[endgroup]
2025-11-10T12:47:34.2572374Z Secret source: Actions
2025-11-10T12:47:34.2573375Z Prepare workflow directory
2025-11-10T12:47:34.2982471Z Prepare all required actions
2025-11-10T12:47:34.3022210Z Getting action download info
2025-11-10T12:47:34.6620802Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-11-10T12:47:34.7929042Z Download action repository 'maxim-lobanov/setup-xcode@v1' (SHA:60606e260d2fc5762a71e64e74b2174e8ea3c8bd)
2025-11-10T12:47:35.1842245Z Download action repository 'microsoft/setup-msbuild@v2' (SHA:6fb02220983dee41ce7ae257b6f4d8f9bf5ed4ce)
2025-11-10T12:47:35.5362759Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-11-10T12:47:35.8722456Z Complete job name: Build and Test (Unsigned) (windows-latest)
2025-11-10T12:47:36.0264253Z ##[group]Run actions/checkout@v4
2025-11-10T12:47:36.0265870Z with:
2025-11-10T12:47:36.0266712Z   submodules: recursive
2025-11-10T12:47:36.0267725Z   fetch-depth: 0
2025-11-10T12:47:36.0268667Z   repository: rebuildup/Ae_sep_color
2025-11-10T12:47:36.0270078Z   token: ***
2025-11-10T12:47:36.0270922Z   ssh-strict: true
2025-11-10T12:47:36.0271808Z   ssh-user: git
2025-11-10T12:47:36.0272714Z   persist-credentials: true
2025-11-10T12:47:36.0273714Z   clean: true
2025-11-10T12:47:36.0274625Z   sparse-checkout-cone-mode: true
2025-11-10T12:47:36.0275583Z   fetch-tags: false
2025-11-10T12:47:36.0276303Z   show-progress: true
2025-11-10T12:47:36.0277025Z   lfs: false
2025-11-10T12:47:36.0277712Z   set-safe-directory: true
2025-11-10T12:47:36.0278722Z ##[endgroup]
2025-11-10T12:47:36.1979195Z Syncing repository: rebuildup/Ae_sep_color
2025-11-10T12:47:36.1981782Z ##[group]Getting Git version info
2025-11-10T12:47:36.1982972Z Working directory is 'D:\a\Ae_sep_color\Ae_sep_color'
2025-11-10T12:47:36.3217064Z [command]"C:\Program Files\Git\bin\git.exe" version
2025-11-10T12:47:36.7725664Z git version 2.51.2.windows.1
2025-11-10T12:47:36.7782560Z ##[endgroup]
2025-11-10T12:47:36.7804493Z Temporarily overriding HOME='D:\a\_temp\8d0bc4c6-a3a1-49a9-ab2e-0304326b12a9' before making global git config changes
2025-11-10T12:47:36.7806817Z Adding repository directory to the temporary git global config as a safe directory
2025-11-10T12:47:36.7816090Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\Ae_sep_color\Ae_sep_color
2025-11-10T12:47:36.8378041Z Deleting the contents of 'D:\a\Ae_sep_color\Ae_sep_color'
2025-11-10T12:47:36.8385166Z ##[group]Initializing the repository
2025-11-10T12:47:36.8394607Z [command]"C:\Program Files\Git\bin\git.exe" init D:\a\Ae_sep_color\Ae_sep_color
2025-11-10T12:47:36.9201352Z Initialized empty Git repository in D:/a/Ae_sep_color/Ae_sep_color/.git/
2025-11-10T12:47:36.9254859Z [command]"C:\Program Files\Git\bin\git.exe" remote add origin https://github.com/rebuildup/Ae_sep_color
2025-11-10T12:47:36.9901773Z ##[endgroup]
2025-11-10T12:47:36.9904064Z ##[group]Disabling automatic garbage collection
2025-11-10T12:47:36.9906186Z [command]"C:\Program Files\Git\bin\git.exe" config --local gc.auto 0
2025-11-10T12:47:37.0232045Z ##[endgroup]
2025-11-10T12:47:37.0233225Z ##[group]Setting up auth
2025-11-10T12:47:37.0247139Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2025-11-10T12:47:37.0545251Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2025-11-10T12:47:38.6557750Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-10T12:47:38.6849438Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2025-11-10T12:47:39.2067547Z [command]"C:\Program Files\Git\bin\git.exe" config --local http.https://github.com/.extraheader "AUTHORIZATION: basic ***"
2025-11-10T12:47:39.2372601Z ##[endgroup]
2025-11-10T12:47:39.2373508Z ##[group]Fetching the repository
2025-11-10T12:47:39.2388435Z [command]"C:\Program Files\Git\bin\git.exe" -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
2025-11-10T12:47:52.8388972Z From https://github.com/rebuildup/Ae_sep_color
2025-11-10T12:47:52.8389653Z  * [new branch]      main       -> origin/main
2025-11-10T12:47:52.8750331Z [command]"C:\Program Files\Git\bin\git.exe" branch --list --remote origin/main
2025-11-10T12:47:52.9068716Z   origin/main
2025-11-10T12:47:52.9116701Z [command]"C:\Program Files\Git\bin\git.exe" rev-parse refs/remotes/origin/main
2025-11-10T12:47:52.9464471Z 9d1c816c650adba2c9a39bf24296867e2ae5c047
2025-11-10T12:47:52.9501444Z ##[endgroup]
2025-11-10T12:47:52.9502035Z ##[group]Determining the checkout info
2025-11-10T12:47:52.9506080Z ##[endgroup]
2025-11-10T12:47:52.9519325Z [command]"C:\Program Files\Git\bin\git.exe" sparse-checkout disable
2025-11-10T12:47:52.9992658Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all extensions.worktreeConfig
2025-11-10T12:47:53.0285929Z ##[group]Checking out the ref
2025-11-10T12:47:53.0303095Z [command]"C:\Program Files\Git\bin\git.exe" checkout --progress --force -B main refs/remotes/origin/main
2025-11-10T12:47:54.0766894Z Updating files:  55% (66/118)
2025-11-10T12:47:54.3877199Z Updating files:  56% (67/118)
2025-11-10T12:47:54.3879175Z Updating files:  57% (68/118)
2025-11-10T12:47:54.3883071Z Updating files:  58% (69/118)
2025-11-10T12:47:54.3886050Z Updating files:  59% (70/118)
2025-11-10T12:47:54.3889356Z Updating files:  60% (71/118)
2025-11-10T12:47:54.3901772Z Updating files:  61% (72/118)
2025-11-10T12:47:54.3906413Z Updating files:  62% (74/118)
2025-11-10T12:47:54.3911349Z Updating files:  63% (75/118)
2025-11-10T12:47:54.3913918Z Updating files:  64% (76/118)
2025-11-10T12:47:54.3919491Z Updating files:  65% (77/118)
2025-11-10T12:47:54.4329882Z Updating files:  66% (78/118)
2025-11-10T12:47:54.4330614Z Updating files:  67% (80/118)
2025-11-10T12:47:54.4333537Z Updating files:  68% (81/118)
2025-11-10T12:47:54.4338576Z Updating files:  69% (82/118)
2025-11-10T12:47:54.4407238Z Updating files:  70% (83/118)
2025-11-10T12:47:54.4409078Z Updating files:  71% (84/118)
2025-11-10T12:47:54.4416865Z Updating files:  72% (85/118)
2025-11-10T12:47:54.4419758Z Updating files:  73% (87/118)
2025-11-10T12:47:54.4423657Z Updating files:  74% (88/118)
2025-11-10T12:47:54.4426372Z Updating files:  75% (89/118)
2025-11-10T12:47:54.4433423Z Updating files:  76% (90/118)
2025-11-10T12:47:54.4438391Z Updating files:  77% (91/118)
2025-11-10T12:47:54.4441163Z Updating files:  78% (93/118)
2025-11-10T12:47:54.4444168Z Updating files:  79% (94/118)
2025-11-10T12:47:54.4447131Z Updating files:  80% (95/118)
2025-11-10T12:47:54.4449948Z Updating files:  81% (96/118)
2025-11-10T12:47:54.4452957Z Updating files:  82% (97/118)
2025-11-10T12:47:54.4457892Z Updating files:  83% (98/118)
2025-11-10T12:47:54.4460482Z Updating files:  84% (100/118)
2025-11-10T12:47:54.4463504Z Updating files:  85% (101/118)
2025-11-10T12:47:54.4466339Z Updating files:  86% (102/118)
2025-11-10T12:47:54.4468427Z Updating files:  87% (103/118)
2025-11-10T12:47:54.4473114Z Updating files:  88% (104/118)
2025-11-10T12:47:54.4475883Z Updating files:  89% (106/118)
2025-11-10T12:47:54.4479059Z Updating files:  90% (107/118)
2025-11-10T12:47:54.4481157Z Updating files:  91% (108/118)
2025-11-10T12:47:54.4517605Z Updating files:  92% (109/118)
2025-11-10T12:47:54.4566429Z Updating files:  93% (110/118)
2025-11-10T12:47:54.4597048Z Updating files:  94% (111/118)
2025-11-10T12:47:54.4603052Z Updating files:  95% (113/118)
2025-11-10T12:47:54.4606355Z Updating files:  96% (114/118)
2025-11-10T12:47:54.4609618Z Updating files:  97% (115/118)
2025-11-10T12:47:54.4611968Z Updating files:  98% (116/118)
2025-11-10T12:47:54.4614124Z Updating files:  99% (117/118)
2025-11-10T12:47:54.4614511Z Updating files: 100% (118/118)
2025-11-10T12:47:54.4614857Z Updating files: 100% (118/118), done.
2025-11-10T12:47:54.4754132Z branch 'main' set up to track 'origin/main'.
2025-11-10T12:47:54.4780522Z Switched to a new branch 'main'
2025-11-10T12:47:54.4956678Z ##[endgroup]
2025-11-10T12:47:54.4957034Z ##[group]Setting up auth for fetching submodules
2025-11-10T12:47:54.4968981Z [command]"C:\Program Files\Git\bin\git.exe" config --global http.https://github.com/.extraheader "AUTHORIZATION: basic ***"
2025-11-10T12:47:54.5272887Z [command]"C:\Program Files\Git\bin\git.exe" config --global --unset-all url.https://github.com/.insteadOf
2025-11-10T12:47:54.5565607Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add url.https://github.com/.insteadOf git@github.com:
2025-11-10T12:47:54.5867193Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add url.https://github.com/.insteadOf org-176191237@github.com:
2025-11-10T12:47:54.6153493Z ##[endgroup]
2025-11-10T12:47:54.6153819Z ##[group]Fetching submodules
2025-11-10T12:47:54.6163151Z [command]"C:\Program Files\Git\bin\git.exe" submodule sync --recursive
2025-11-10T12:47:55.1904567Z [command]"C:\Program Files\Git\bin\git.exe" -c protocol.version=2 submodule update --init --force --recursive
2025-11-10T12:47:55.7007827Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local gc.auto 0"
2025-11-10T12:47:56.2514437Z ##[endgroup]
2025-11-10T12:47:56.2514995Z ##[group]Persisting credentials for submodules
2025-11-10T12:47:56.2527506Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'url\.https\:\/\/github\.com\/\.insteadOf' && git config --local --unset-all 'url.https://github.com/.insteadOf' || :\""
2025-11-10T12:47:56.7770247Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local 'http.https://github.com/.extraheader' 'AUTHORIZATION: basic ***' && git config --local --show-origin --name-only --get-regexp remote.origin.url\""
2025-11-10T12:47:57.2836717Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --add 'url.https://github.com/.insteadOf' 'git@github.com:'"
2025-11-10T12:47:57.8248806Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --add 'url.https://github.com/.insteadOf' 'org-176191237@github.com:'"
2025-11-10T12:47:58.3607062Z ##[endgroup]
2025-11-10T12:47:58.4030092Z [command]"C:\Program Files\Git\bin\git.exe" log -1 --format=%H
2025-11-10T12:47:58.4287144Z 9d1c816c650adba2c9a39bf24296867e2ae5c047
2025-11-10T12:47:58.4695171Z ##[group]Run microsoft/setup-msbuild@v2
2025-11-10T12:47:58.4695486Z with:
2025-11-10T12:47:58.4695667Z   msbuild-architecture: x86
2025-11-10T12:47:58.4695877Z ##[endgroup]
2025-11-10T12:47:58.6076091Z [command]C:\ProgramData\Chocolatey\bin\vswhere.exe -products * -requires Microsoft.Component.MSBuild -property installationPath -latest
2025-11-10T12:47:59.1391925Z C:\Program Files\Microsoft Visual Studio\2022\Enterprise
2025-11-10T12:47:59.1697525Z ##[group]Run $REPO_ROOT = Get-Location
2025-11-10T12:47:59.1697927Z [36;1m$REPO_ROOT = Get-Location[0m
2025-11-10T12:47:59.1698174Z [36;1m$PROJECT_DIR = $REPO_ROOT[0m
2025-11-10T12:47:59.1698390Z [36;1m[0m
2025-11-10T12:47:59.1698585Z [36;1mif (Test-Path "Template\sep_color") {[0m
2025-11-10T12:47:59.1698948Z [36;1m  $PROJECT_DIR = Join-Path $REPO_ROOT "Template\sep_color"[0m
2025-11-10T12:47:59.1699285Z [36;1m} elseif (Test-Path "sep_color") {[0m
2025-11-10T12:47:59.1699591Z [36;1m  $PROJECT_DIR = Join-Path $REPO_ROOT "sep_color"[0m
2025-11-10T12:47:59.1699852Z [36;1m}[0m
2025-11-10T12:47:59.1700003Z [36;1m[0m
2025-11-10T12:47:59.1700185Z [36;1m$BUILD_DIR = Join-Path $PROJECT_DIR "Win"[0m
2025-11-10T12:47:59.1700572Z [36;1m$EXPECTED_SDK_PATH = (Get-Item (Join-Path $BUILD_DIR "..\..\..")).FullName[0m
2025-11-10T12:47:59.1700898Z [36;1m[0m
2025-11-10T12:47:59.1701296Z [36;1mWrite-Output "project_dir=$PROJECT_DIR" | Out-File -FilePath $env:GITHUB_OUTPUT -Append -Encoding utf8[0m
2025-11-10T12:47:59.1701915Z [36;1mWrite-Output "build_dir=$BUILD_DIR" | Out-File -FilePath $env:GITHUB_OUTPUT -Append -Encoding utf8[0m
2025-11-10T12:47:59.1703004Z [36;1mWrite-Output "expected_sdk_path=$EXPECTED_SDK_PATH" | Out-File -FilePath $env:GITHUB_OUTPUT -Append -Encoding utf8[0m
2025-11-10T12:47:59.2684279Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -command ". '{0}'"
2025-11-10T12:47:59.2684745Z ##[endgroup]
2025-11-10T12:47:59.6829073Z ##[group]Run if [ "win" == "mac" ]; then
2025-11-10T12:47:59.6829424Z [36;1mif [ "win" == "mac" ]; then[0m
2025-11-10T12:47:59.6829690Z [36;1m  echo "project_dir=" >> $GITHUB_OUTPUT[0m
2025-11-10T12:47:59.6829985Z [36;1m  echo "build_dir=" >> $GITHUB_OUTPUT[0m
2025-11-10T12:47:59.6830270Z [36;1m  echo "expected_sdk_path=" >> $GITHUB_OUTPUT[0m
2025-11-10T12:47:59.6830515Z [36;1melse[0m
2025-11-10T12:47:59.6830781Z [36;1m  echo "project_dir=D:\a\Ae_sep_color\Ae_sep_color" >> $GITHUB_OUTPUT[0m
2025-11-10T12:47:59.6831564Z [36;1m  echo "build_dir=D:\a\Ae_sep_color\Ae_sep_color\Win" >> $GITHUB_OUTPUT[0m
2025-11-10T12:47:59.6831925Z [36;1m  echo "expected_sdk_path=D:\a" >> $GITHUB_OUTPUT[0m
2025-11-10T12:47:59.6832179Z [36;1mfi[0m
2025-11-10T12:47:59.6845176Z shell: C:\Program Files\Git\bin\bash.EXE --noprofile --norc -e -o pipefail {0}
2025-11-10T12:47:59.6845541Z ##[endgroup]
2025-11-10T12:47:59.8739242Z ##[group]Run $ErrorActionPreference = "Stop"
2025-11-10T12:47:59.8740104Z [36;1m$ErrorActionPreference = "Stop"[0m
2025-11-10T12:47:59.8740495Z [36;1mfunction LogInfo([string]$Message) { Write-Output ("[INFO] {0}" -f $Message) }[0m
2025-11-10T12:47:59.8741000Z [36;1mfunction LogWarn([string]$Message) { Write-Output ("[WARN] {0}" -f $Message) }[0m
2025-11-10T12:47:59.8741500Z [36;1mfunction LogError([string]$Message) { Write-Output ("[ERROR] {0}" -f $Message) }[0m
2025-11-10T12:47:59.8741883Z [36;1mfunction LogBlank() { Write-Output "" }[0m
2025-11-10T12:47:59.8742126Z [36;1m[0m
2025-11-10T12:47:59.8742293Z [36;1m$EXPECTED_SDK_PATH = "D:\a"[0m
2025-11-10T12:47:59.8742497Z [36;1m[0m
2025-11-10T12:47:59.8742671Z [36;1m# AeSDKが既に存在するか確認[0m
2025-11-10T12:47:59.8743033Z [36;1mif ((Test-Path "$EXPECTED_SDK_PATH\Headers") -and (Test-Path "$EXPECTED_SDK_PATH\Util")) {[0m
2025-11-10T12:47:59.8743508Z [36;1m  LogInfo "AeSDK already exists: $EXPECTED_SDK_PATH"[0m
2025-11-10T12:47:59.8743779Z [36;1m  exit 0[0m
2025-11-10T12:47:59.8744146Z [36;1m}[0m
2025-11-10T12:47:59.8744290Z [36;1m[0m
2025-11-10T12:47:59.8744445Z [36;1m# GitHub APIを使用してリリース情報を取得[0m
2025-11-10T12:47:59.8744662Z [36;1m# リリースタグの候補（優先順位順）[0m
2025-11-10T12:47:59.8744947Z [36;1m$RELEASE_TAG_CANDIDATES = @("sdk", "ae-sdk_25.6_61", "v25.6.61", "25.6.61")[0m
2025-11-10T12:47:59.8745299Z [36;1m$REPO = "rebuildup/my-ae-sdk-storage"[0m
2025-11-10T12:47:59.8745534Z [36;1m[0m
2025-11-10T12:47:59.8745725Z [36;1mLogInfo "Download AeSDK from GitHub releases"[0m
2025-11-10T12:47:59.8746018Z [36;1mWrite-Output "   Repository: $REPO"[0m
2025-11-10T12:47:59.8746333Z [36;1mWrite-Output "   SDK file : AfterEffectsSDK_25.6_61_win.zip"[0m
2025-11-10T12:47:59.8746614Z [36;1m[0m
2025-11-10T12:47:59.8746756Z [36;1m# トークンの確認[0m
2025-11-10T12:47:59.8746936Z [36;1mif (-not $env:GITHUB_TOKEN) {[0m
2025-11-10T12:47:59.8747183Z [36;1m  LogError "GITHUB_TOKEN is not defined"[0m
2025-11-10T12:47:59.8747553Z [36;1m  Write-Output "   Please configure AE_SDK_DOWNLOAD_TOKEN in GitHub Secrets"[0m
2025-11-10T12:47:59.8747888Z [36;1m  exit 1[0m
2025-11-10T12:47:59.8748035Z [36;1m}[0m
2025-11-10T12:47:59.8748176Z [36;1m[0m
2025-11-10T12:47:59.8748314Z [36;1m# リリース情報を取得（複数のタグ候補を試す）[0m
2025-11-10T12:47:59.8748513Z [36;1m$headers = @{[0m
2025-11-10T12:47:59.8748718Z [36;1m  Authorization = "token $env:GITHUB_TOKEN"[0m
2025-11-10T12:47:59.8748990Z [36;1m  Accept = "application/vnd.github.v3+json"[0m
2025-11-10T12:47:59.8749219Z [36;1m}[0m
2025-11-10T12:47:59.8749352Z [36;1m[0m
2025-11-10T12:47:59.8749498Z [36;1m$releaseJson = $null[0m
2025-11-10T12:47:59.8749690Z [36;1m$foundTag = $null[0m
2025-11-10T12:47:59.8749873Z [36;1m[0m
2025-11-10T12:47:59.8750076Z [36;1mforeach ($RELEASE_TAG in $RELEASE_TAG_CANDIDATES) {[0m
2025-11-10T12:47:59.8750418Z [36;1m  LogInfo "Requesting release metadata (tag: $RELEASE_TAG)"[0m
2025-11-10T12:47:59.8750846Z [36;1m  $releaseUrl = "https://api.github.com/repos/$REPO/releases/tags/$RELEASE_TAG"[0m
2025-11-10T12:47:59.8751187Z [36;1m[0m
2025-11-10T12:47:59.8751318Z [36;1m  try {[0m
2025-11-10T12:47:59.8751643Z [36;1m    $releaseJson = Invoke-RestMethod -Uri $releaseUrl -Headers $headers -ErrorAction Stop[0m
2025-11-10T12:47:59.8752028Z [36;1m    $foundTag = $RELEASE_TAG[0m
2025-11-10T12:47:59.8752262Z [36;1m    LogInfo "Release found: $foundTag"[0m
2025-11-10T12:47:59.8752491Z [36;1m    break[0m
2025-11-10T12:47:59.8752641Z [36;1m  } catch {[0m
2025-11-10T12:47:59.8752884Z [36;1m    $statusCode = $_.Exception.Response.StatusCode.value__[0m
2025-11-10T12:47:59.8753511Z [36;1m    LogWarn ("Tag '{0}' not found (HTTP {1})" -f $RELEASE_TAG, $statusCode)[0m
2025-11-10T12:47:59.8753805Z [36;1m  }[0m
2025-11-10T12:47:59.8753949Z [36;1m}[0m
2025-11-10T12:47:59.8754082Z [36;1m[0m
2025-11-10T12:47:59.8754227Z [36;1mif (-not $releaseJson) {[0m
2025-11-10T12:47:59.8756189Z [36;1m  LogWarn "Falling back to latest release"[0m
2025-11-10T12:47:59.8756632Z [36;1m  $releaseUrl = "https://api.github.com/repos/$REPO/releases/latest"[0m
2025-11-10T12:47:59.8756949Z [36;1m[0m
2025-11-10T12:47:59.8757093Z [36;1m  try {[0m
2025-11-10T12:47:59.8757421Z [36;1m    $releaseJson = Invoke-RestMethod -Uri $releaseUrl -Headers $headers -ErrorAction Stop[0m
2025-11-10T12:47:59.8757868Z [36;1m    $foundTag = $releaseJson.tag_name[0m
2025-11-10T12:47:59.8758144Z [36;1m    LogInfo "Latest release located: $foundTag"[0m
2025-11-10T12:47:59.8758397Z [36;1m  } catch {[0m
2025-11-10T12:47:59.8758615Z [36;1m    LogError "Unable to fetch release metadata"[0m
2025-11-10T12:47:59.8759051Z [36;1m    LogError ("HTTP status: {0}" -f $_.Exception.Response.StatusCode.value__)[0m
2025-11-10T12:47:59.8759452Z [36;1m    LogError ("Message    : {0}" -f $_.Exception.Message)[0m
2025-11-10T12:47:59.8759728Z [36;1m    LogBlank()[0m
2025-11-10T12:47:59.8759960Z [36;1m    Write-Output "Possible causes:"[0m
2025-11-10T12:47:59.8760283Z [36;1m    Write-Output "  1. Repository missing or private without access"[0m
2025-11-10T12:47:59.8761240Z [36;1m    Write-Output ("  2. Tags not found (checked: {0})" -f ($RELEASE_TAG_CANDIDATES -join ", "))[0m
2025-11-10T12:47:59.8761679Z [36;1m    Write-Output "  3. GitHub token lacks required scopes"[0m
2025-11-10T12:47:59.8762036Z [36;1m    Write-Output "  4. AE_SDK_DOWNLOAD_TOKEN is not configured"[0m
2025-11-10T12:47:59.8762325Z [36;1m    exit 1[0m
2025-11-10T12:47:59.8762495Z [36;1m  }[0m
2025-11-10T12:47:59.8762636Z [36;1m}[0m
2025-11-10T12:47:59.8762781Z [36;1m[0m
2025-11-10T12:47:59.8763042Z [36;1m$releaseJson.assets | ForEach-Object { Write-Output "   - $($_.name)" }[0m
2025-11-10T12:47:59.8763362Z [36;1m[0m
2025-11-10T12:47:59.8763514Z [36;1m# アセットのダウンロードURLを取得[0m
2025-11-10T12:47:59.8763945Z [36;1m$asset = $releaseJson.assets | Where-Object { $_.name -eq "AfterEffectsSDK_25.6_61_win.zip" } | Select-Object -First 1[0m
2025-11-10T12:47:59.8764389Z [36;1m[0m
2025-11-10T12:47:59.8764545Z [36;1mif (-not $asset) {[0m
2025-11-10T12:47:59.8764837Z [36;1m  LogError ("SDK asset not found: {0}" -f "AfterEffectsSDK_25.6_61_win.zip")[0m
2025-11-10T12:47:59.8765181Z [36;1m  Write-Output "Available assets:"[0m
2025-11-10T12:47:59.8765516Z [36;1m  $releaseJson.assets | ForEach-Object { Write-Output "   - $($_.name)" }[0m
2025-11-10T12:47:59.8765837Z [36;1m  exit 1[0m
2025-11-10T12:47:59.8765993Z [36;1m}[0m
2025-11-10T12:47:59.8766126Z [36;1m[0m
2025-11-10T12:47:59.8766283Z [36;1m$apiDownloadUrl = $asset.url[0m
2025-11-10T12:47:59.8766560Z [36;1m$browserDownloadUrl = $asset.browser_download_url[0m
2025-11-10T12:47:59.8766809Z [36;1m[0m
2025-11-10T12:47:59.8766961Z [36;1mif (-not $apiDownloadUrl) {[0m
2025-11-10T12:47:59.8767216Z [36;1m  LogError "Asset is missing an API download URL"[0m
2025-11-10T12:47:59.8767516Z [36;1m  Write-Output ($asset | ConvertTo-Json -Depth 5)[0m
2025-11-10T12:47:59.8767770Z [36;1m  exit 1[0m
2025-11-10T12:47:59.8767917Z [36;1m}[0m
2025-11-10T12:47:59.8768059Z [36;1m[0m
2025-11-10T12:47:59.8768273Z [36;1mLogInfo ("Download URL (API): {0}" -f $apiDownloadUrl)[0m
2025-11-10T12:47:59.8768559Z [36;1mif ($browserDownloadUrl) {[0m
2025-11-10T12:47:59.8768856Z [36;1m  LogInfo ("Download URL (browser): {0}" -f $browserDownloadUrl)[0m
2025-11-10T12:47:59.8769143Z [36;1m}[0m
2025-11-10T12:47:59.8769285Z [36;1m[0m
2025-11-10T12:47:59.8769457Z [36;1mLogInfo "Downloading SDK archive..."[0m
2025-11-10T12:47:59.8769696Z [36;1m$outputPath = "AE_SDK.zip"[0m
2025-11-10T12:47:59.8769910Z [36;1m$downloadHeaders = @{[0m
2025-11-10T12:47:59.8770140Z [36;1m  Authorization = "token $env:GITHUB_TOKEN"[0m
2025-11-10T12:47:59.8770411Z [36;1m  Accept = "application/octet-stream"[0m
2025-11-10T12:47:59.8770665Z [36;1m  "User-Agent" = "GitHub-Actions"[0m
2025-11-10T12:47:59.8770871Z [36;1m}[0m
2025-11-10T12:47:59.8771013Z [36;1m[0m
2025-11-10T12:47:59.8771493Z [36;1mtry {[0m
2025-11-10T12:47:59.8771911Z [36;1m  Invoke-WebRequest -Uri $apiDownloadUrl -Headers $downloadHeaders -OutFile $outputPath -ErrorAction Stop[0m
2025-11-10T12:47:59.8772366Z [36;1m} catch {[0m
2025-11-10T12:47:59.8772613Z [36;1m  LogWarn ("API download failed: {0}" -f $_.Exception.Message)[0m
2025-11-10T12:47:59.8772924Z [36;1m  if ($browserDownloadUrl) {[0m
2025-11-10T12:47:59.8773232Z [36;1m    LogInfo "Retrying with browser download URL (unauthenticated)"[0m
2025-11-10T12:47:59.8773768Z [36;1m    try {[0m
2025-11-10T12:47:59.8774113Z [36;1m      Invoke-WebRequest -Uri $browserDownloadUrl -OutFile $outputPath -ErrorAction Stop[0m
2025-11-10T12:47:59.8774484Z [36;1m    } catch {[0m
2025-11-10T12:47:59.8774686Z [36;1m      LogError "SDK download failed"[0m
2025-11-10T12:47:59.8775035Z [36;1m      LogError ("HTTP status: {0}" -f $_.Exception.Response.StatusCode.value__)[0m
2025-11-10T12:47:59.8775417Z [36;1m      LogError ("Message    : {0}" -f $_.Exception.Message)[0m
2025-11-10T12:47:59.8775812Z [36;1m      exit 1[0m
2025-11-10T12:47:59.8776147Z [36;1m    }[0m
2025-11-10T12:47:59.8776307Z [36;1m  } else {[0m
2025-11-10T12:47:59.8776474Z [36;1m    exit 1[0m
2025-11-10T12:47:59.8776621Z [36;1m  }[0m
2025-11-10T12:47:59.8776767Z [36;1m}[0m
2025-11-10T12:47:59.8776902Z [36;1m[0m
2025-11-10T12:47:59.8777173Z [36;1mif (-not (Test-Path $outputPath) -or (Get-Item $outputPath).Length -eq 0) {[0m
2025-11-10T12:47:59.8777556Z [36;1m  LogError "Downloaded file is missing or empty"[0m
2025-11-10T12:47:59.8777804Z [36;1m  exit 1[0m
2025-11-10T12:47:59.8777961Z [36;1m}[0m
2025-11-10T12:47:59.8778097Z [36;1m[0m
2025-11-10T12:47:59.8778282Z [36;1m$fileSize = (Get-Item $outputPath).Length / 1MB[0m
2025-11-10T12:47:59.8778645Z [36;1mLogInfo ("Download complete ({0} MB)" -f [math]::Round($fileSize, 2))[0m
2025-11-10T12:47:59.8778948Z [36;1m[0m
2025-11-10T12:47:59.8779122Z [36;1mLogInfo "Extracting SDK archive..."[0m
2025-11-10T12:47:59.8779504Z [36;1m$extractDir = Join-Path $env:RUNNER_TEMP ("ae_sdk_" + [Guid]::NewGuid().ToString())[0m
2025-11-10T12:47:59.8779960Z [36;1mNew-Item -ItemType Directory -Path $extractDir -Force | Out-Null[0m
2025-11-10T12:47:59.8780268Z [36;1m[0m
2025-11-10T12:47:59.8780411Z [36;1mtry {[0m
2025-11-10T12:47:59.8780741Z [36;1m  Expand-Archive -Path $outputPath -DestinationPath $extractDir -Force -ErrorAction Stop[0m
2025-11-10T12:47:59.8781120Z [36;1m} catch {[0m
2025-11-10T12:47:59.8781393Z [36;1m  LogError ("Failed to extract SDK archive: {0}" -f $_.Exception.Message)[0m
2025-11-10T12:47:59.8781917Z [36;1m  Get-ChildItem $extractDir -Recurse | Select-Object -First 40 | Format-Table FullName, LastWriteTime[0m
2025-11-10T12:47:59.8782323Z [36;1m  exit 1[0m
2025-11-10T12:47:59.8782480Z [36;1m}[0m
2025-11-10T12:47:59.8782621Z [36;1m[0m
2025-11-10T12:47:59.8782784Z [36;1mfunction Get-SevenZipPath {[0m
2025-11-10T12:47:59.8783008Z [36;1m  $candidates = @([0m
2025-11-10T12:47:59.8783229Z [36;1m    "$env:ProgramFiles\7-Zip\7z.exe",[0m
2025-11-10T12:47:59.8783498Z [36;1m    "$env:ProgramFiles(x86)\7-Zip\7z.exe",[0m
2025-11-10T12:47:59.8783748Z [36;1m    "C:\Program Files\7-Zip\7z.exe"[0m
2025-11-10T12:47:59.8783964Z [36;1m  )[0m
2025-11-10T12:47:59.8784138Z [36;1m  foreach ($candidate in $candidates) {[0m
2025-11-10T12:47:59.8784424Z [36;1m    if (Test-Path $candidate) { return $candidate }[0m
2025-11-10T12:47:59.8784673Z [36;1m  }[0m
2025-11-10T12:47:59.8784816Z [36;1m  return $null[0m
2025-11-10T12:47:59.8784989Z [36;1m}[0m
2025-11-10T12:47:59.8785120Z [36;1m[0m
2025-11-10T12:47:59.8785287Z [36;1m$SevenZipPath = Get-SevenZipPath[0m
2025-11-10T12:47:59.8785505Z [36;1m[0m
2025-11-10T12:47:59.8785660Z [36;1mfunction Expand-ArchiveSmart {[0m
2025-11-10T12:47:59.8785884Z [36;1m  param([0m
2025-11-10T12:47:59.8786054Z [36;1m    [string]$Archive,[0m
2025-11-10T12:47:59.8786262Z [36;1m    [string]$Destination[0m
2025-11-10T12:47:59.8786460Z [36;1m  )[0m
2025-11-10T12:47:59.8786674Z [36;1m[0m
2025-11-10T12:47:59.8786857Z [36;1m  $lower = $Archive.ToLowerInvariant()[0m
2025-11-10T12:47:59.8787086Z [36;1m[0m
2025-11-10T12:47:59.8787238Z [36;1m  if ($lower.EndsWith(".zip")) {[0m
2025-11-10T12:47:59.8787595Z [36;1m    Expand-Archive -LiteralPath $Archive -DestinationPath $Destination -Force[0m
2025-11-10T12:47:59.8787944Z [36;1m    return $true[0m
2025-11-10T12:47:59.8788126Z [36;1m  }[0m
2025-11-10T12:47:59.8788270Z [36;1m[0m
2025-11-10T12:47:59.8788414Z [36;1m  if ($SevenZipPath) {[0m
2025-11-10T12:47:59.8788705Z [36;1m    & $SevenZipPath x $Archive ("-o" + $Destination) -y | Out-Null[0m
2025-11-10T12:47:59.8789001Z [36;1m    return $true[0m
2025-11-10T12:47:59.8789168Z [36;1m  }[0m
2025-11-10T12:47:59.8789311Z [36;1m[0m
2025-11-10T12:47:59.8789464Z [36;1m  if ($lower.EndsWith(".tar")) {[0m
2025-11-10T12:47:59.8789710Z [36;1m    & tar -xf $Archive -C $Destination[0m
2025-11-10T12:47:59.8789946Z [36;1m    return $true[0m
2025-11-10T12:47:59.8790114Z [36;1m  }[0m
2025-11-10T12:47:59.8790334Z [36;1m[0m
2025-11-10T12:47:59.8790548Z [36;1m  if ($lower.EndsWith(".tar.gz") -or $lower.EndsWith(".tgz")) {[0m
2025-11-10T12:47:59.8790864Z [36;1m    & tar -xzf $Archive -C $Destination[0m
2025-11-10T12:47:59.8791096Z [36;1m    return $true[0m
2025-11-10T12:47:59.8791262Z [36;1m  }[0m
2025-11-10T12:47:59.8791403Z [36;1m[0m
2025-11-10T12:47:59.8791686Z [36;1m  if ($lower.EndsWith(".tar.bz2") -or $lower.EndsWith(".tbz") -or $lower.EndsWith(".tbz2")) {[0m
2025-11-10T12:47:59.8792083Z [36;1m    & tar -xjf $Archive -C $Destination[0m
2025-11-10T12:47:59.8792305Z [36;1m    return $true[0m
2025-11-10T12:47:59.8792476Z [36;1m  }[0m
2025-11-10T12:47:59.8792615Z [36;1m[0m
2025-11-10T12:47:59.8792827Z [36;1m  if ($lower.EndsWith(".tar.xz") -or $lower.EndsWith(".txz")) {[0m
2025-11-10T12:47:59.8793134Z [36;1m    & tar -xJf $Archive -C $Destination[0m
2025-11-10T12:47:59.8793355Z [36;1m    return $true[0m
2025-11-10T12:47:59.8793525Z [36;1m  }[0m
2025-11-10T12:47:59.8793859Z [36;1m[0m
2025-11-10T12:47:59.8794073Z [36;1m  LogWarn ("Unsupported archive format: {0}" -f $Archive)[0m
2025-11-10T12:47:59.8794358Z [36;1m  return $false[0m
2025-11-10T12:47:59.8794532Z [36;1m}[0m
2025-11-10T12:47:59.8794669Z [36;1m[0m
2025-11-10T12:47:59.8794837Z [36;1mfunction Expand-NestedArchives {[0m
2025-11-10T12:47:59.8795069Z [36;1m  param([string]$Root)[0m
2025-11-10T12:47:59.8795280Z [36;1m  for ($i = 0; $i -lt 6; $i++) {[0m
2025-11-10T12:47:59.8795650Z [36;1m    $archives = Get-ChildItem -Path $Root -Recurse -File -ErrorAction SilentlyContinue |[0m
2025-11-10T12:47:59.8796365Z [36;1m      Where-Object { $_.Name -match '\.(zip|tar|tgz|tar\.gz|tbz|tar\.bz2|txz|tar\.xz|tar\.zst|tar\.zstd|zst|zstd)$' }[0m
2025-11-10T12:47:59.8796781Z [36;1m    if (-not $archives) { break }[0m
2025-11-10T12:47:59.8796994Z [36;1m[0m
2025-11-10T12:47:59.8797138Z [36;1m    $expanded = $false[0m
2025-11-10T12:47:59.8797367Z [36;1m    foreach ($archive in $archives) {[0m
2025-11-10T12:47:59.8797663Z [36;1m      if (-not (Test-Path $archive.FullName)) { continue }[0m
2025-11-10T12:47:59.8798124Z [36;1m      $dest = Join-Path $archive.Directory.FullName ("nested_{0}_{1}" -f $i, [Guid]::NewGuid().ToString('N'))[0m
2025-11-10T12:47:59.8798608Z [36;1m      New-Item -ItemType Directory -Force -Path $dest | Out-Null[0m
2025-11-10T12:47:59.8799031Z [36;1m      if (Expand-ArchiveSmart -Archive $archive.FullName -Destination $dest) {[0m
2025-11-10T12:47:59.8799476Z [36;1m        Remove-Item $archive.FullName -Force -ErrorAction SilentlyContinue[0m
2025-11-10T12:47:59.8799806Z [36;1m        $expanded = $true[0m
2025-11-10T12:47:59.8800004Z [36;1m      } else {[0m
2025-11-10T12:47:59.8800280Z [36;1m        Remove-Item -Recurse -Force $dest -ErrorAction SilentlyContinue[0m
2025-11-10T12:47:59.8800589Z [36;1m      }[0m
2025-11-10T12:47:59.8800735Z [36;1m    }[0m
2025-11-10T12:47:59.8800988Z [36;1m[0m
2025-11-10T12:47:59.8801155Z [36;1m    if (-not $expanded) { break }[0m
2025-11-10T12:47:59.8801367Z [36;1m  }[0m
2025-11-10T12:47:59.8801508Z [36;1m}[0m
2025-11-10T12:47:59.8801639Z [36;1m[0m
2025-11-10T12:47:59.8801822Z [36;1mExpand-NestedArchives -Root $extractDir[0m
2025-11-10T12:47:59.8802063Z [36;1m[0m
2025-11-10T12:47:59.8802220Z [36;1mfunction Get-SdkSourceDirs {[0m
2025-11-10T12:47:59.8802449Z [36;1m  param([string]$root)[0m
2025-11-10T12:47:59.8802827Z [36;1m  $headersDirs = Get-ChildItem -Path $root -Directory -Recurse -ErrorAction SilentlyContinue |[0m
2025-11-10T12:47:59.8803256Z [36;1m    Where-Object { $_.Name -ieq "Headers" }[0m
2025-11-10T12:47:59.8803489Z [36;1m[0m
2025-11-10T12:47:59.8803646Z [36;1m  foreach ($hdr in $headersDirs) {[0m
2025-11-10T12:47:59.8803931Z [36;1m    $utilPath = Join-Path $hdr.Parent.FullName "Util"[0m
2025-11-10T12:47:59.8804216Z [36;1m    if (Test-Path $utilPath) {[0m
2025-11-10T12:47:59.8804451Z [36;1m      return [pscustomobject]@{[0m
2025-11-10T12:47:59.8804767Z [36;1m        Headers = $hdr.FullName[0m
2025-11-10T12:47:59.8804984Z [36;1m        Util    = $utilPath[0m
2025-11-10T12:47:59.8805210Z [36;1m        Root    = $hdr.Parent.FullName[0m
2025-11-10T12:47:59.8805429Z [36;1m      }[0m
2025-11-10T12:47:59.8805572Z [36;1m    }[0m
2025-11-10T12:47:59.8805717Z [36;1m  }[0m
2025-11-10T12:47:59.8805870Z [36;1m  return $null[0m
2025-11-10T12:47:59.8806033Z [36;1m}[0m
2025-11-10T12:47:59.8806187Z [36;1m[0m
2025-11-10T12:47:59.8806359Z [36;1mfunction Invoke-SdkPrepScripts {[0m
2025-11-10T12:47:59.8806604Z [36;1m  param([string]$root)[0m
2025-11-10T12:47:59.8806970Z [36;1m  $scripts = Get-ChildItem -Path $root -Filter "*.bat" -Recurse -ErrorAction SilentlyContinue |[0m
2025-11-10T12:47:59.8807492Z [36;1m    Where-Object { $_.Name -match '(setup|install|extract|expand|prepare|unpack)' } |[0m
2025-11-10T12:47:59.8807852Z [36;1m    Sort-Object FullName[0m
2025-11-10T12:47:59.8808050Z [36;1m[0m
2025-11-10T12:47:59.8808220Z [36;1m  foreach ($script in $scripts) {[0m
2025-11-10T12:47:59.8808534Z [36;1m    LogInfo ("Running vendor script: {0}" -f $script.FullName)[0m
2025-11-10T12:47:59.8808890Z [36;1m    Push-Location -LiteralPath $script.DirectoryName[0m
2025-11-10T12:47:59.8809164Z [36;1m    try {[0m
2025-11-10T12:47:59.8809355Z [36;1m      & cmd.exe /c "`"$($script.FullName)`""[0m
2025-11-10T12:47:59.8809592Z [36;1m    } finally {[0m
2025-11-10T12:47:59.8809782Z [36;1m      Pop-Location[0m
2025-11-10T12:47:59.8809964Z [36;1m    }[0m
2025-11-10T12:47:59.8810107Z [36;1m[0m
2025-11-10T12:47:59.8810258Z [36;1m    if ($LASTEXITCODE -ne 0) {[0m
2025-11-10T12:47:59.8810546Z [36;1m      LogWarn ("Script exited with code {0}" -f $LASTEXITCODE)[0m
2025-11-10T12:47:59.8810821Z [36;1m    }[0m
2025-11-10T12:47:59.8810959Z [36;1m[0m
2025-11-10T12:47:59.8811136Z [36;1m    $result = Get-SdkSourceDirs -root $root[0m
2025-11-10T12:47:59.8811398Z [36;1m    if ($result) { return $result }[0m
2025-11-10T12:47:59.8811609Z [36;1m  }[0m
2025-11-10T12:47:59.8811747Z [36;1m[0m
2025-11-10T12:47:59.8811886Z [36;1m  return $null[0m
2025-11-10T12:47:59.8812056Z [36;1m}[0m
2025-11-10T12:47:59.8812196Z [36;1m[0m
2025-11-10T12:47:59.8812345Z [36;1mfunction Invoke-BuildAll {[0m
2025-11-10T12:47:59.8812564Z [36;1m  param([string]$root)[0m
2025-11-10T12:47:59.8812965Z [36;1m  $solution = Get-ChildItem -Path $root -Recurse -Filter "BuildAll.sln" -ErrorAction SilentlyContinue |[0m
2025-11-10T12:47:59.8813392Z [36;1m    Select-Object -First 1[0m
2025-11-10T12:47:59.8813593Z [36;1m[0m
2025-11-10T12:47:59.8813955Z [36;1m  if ($solution) {[0m
2025-11-10T12:47:59.8814244Z [36;1m    LogInfo ("Building vendor solution: {0}" -f $solution.FullName)[0m
2025-11-10T12:47:59.8814581Z [36;1m    & msbuild $solution.FullName `[0m
2025-11-10T12:47:59.8814797Z [36;1m      /m `[0m
2025-11-10T12:47:59.8814981Z [36;1m      /p:Configuration=Release `[0m
2025-11-10T12:47:59.8815686Z [36;1m      /p:Platform=x64 `[0m
2025-11-10T12:47:59.8815986Z [36;1m      /v:minimal[0m
2025-11-10T12:47:59.8816317Z [36;1m  } else {[0m
2025-11-10T12:47:59.8816588Z [36;1m    LogWarn "BuildAll.sln not found; skipping vendor compilation"[0m
2025-11-10T12:47:59.8816898Z [36;1m  }[0m
2025-11-10T12:47:59.8817047Z [36;1m}[0m
2025-11-10T12:47:59.8817186Z [36;1m[0m
2025-11-10T12:47:59.8817387Z [36;1m$sources = Get-SdkSourceDirs -root $extractDir[0m
2025-11-10T12:47:59.8817648Z [36;1mif (-not $sources) {[0m
2025-11-10T12:47:59.8817906Z [36;1m  $sources = Invoke-SdkPrepScripts -root $extractDir[0m
2025-11-10T12:47:59.8818176Z [36;1m}[0m
2025-11-10T12:47:59.8818312Z [36;1m[0m
2025-11-10T12:47:59.8818463Z [36;1mif (-not $sources) {[0m
2025-11-10T12:47:59.8818755Z [36;1m  LogError "Headers/Util directories not found inside SDK archive"[0m
2025-11-10T12:47:59.8819260Z [36;1m  Get-ChildItem $extractDir -Recurse -Directory | Select-Object -First 40 | Format-Table FullName[0m
2025-11-10T12:47:59.8820182Z [36;1m  exit 1[0m
2025-11-10T12:47:59.8820337Z [36;1m}[0m
2025-11-10T12:47:59.8820484Z [36;1m[0m
2025-11-10T12:47:59.8820639Z [36;1m$sdkRoot = $sources.Root[0m
2025-11-10T12:47:59.8820833Z [36;1m[0m
2025-11-10T12:47:59.8820998Z [36;1mInvoke-BuildAll -root $sdkRoot[0m
2025-11-10T12:47:59.8821210Z [36;1m[0m
2025-11-10T12:47:59.8821411Z [36;1m$projectDir = "D:\a\Ae_sep_color\Ae_sep_color"[0m
2025-11-10T12:47:59.8821726Z [36;1mif ($projectDir -and (Test-Path $projectDir)) {[0m
2025-11-10T12:47:59.8822039Z [36;1m  $sdkTemplateRoot = Join-Path $sdkRoot "Template"[0m
2025-11-10T12:47:59.8822435Z [36;1m  New-Item -ItemType Directory -Force -Path $sdkTemplateRoot | Out-Null[0m
2025-11-10T12:47:59.8822910Z [36;1m  $targetTemplate = Join-Path $sdkTemplateRoot (Split-Path $projectDir -Leaf)[0m
2025-11-10T12:47:59.8823279Z [36;1m  if (Test-Path $targetTemplate) {[0m
2025-11-10T12:47:59.8823639Z [36;1m    Remove-Item -Recurse -Force $targetTemplate -ErrorAction SilentlyContinue[0m
2025-11-10T12:47:59.8823974Z [36;1m  }[0m
2025-11-10T12:47:59.8824230Z [36;1m  LogInfo ("Copying project into SDK template: {0}" -f $targetTemplate)[0m
2025-11-10T12:47:59.8824622Z [36;1m  Copy-Item -Recurse -Force $projectDir $targetTemplate[0m
2025-11-10T12:47:59.8824890Z [36;1m}[0m
2025-11-10T12:47:59.8825024Z [36;1m[0m
2025-11-10T12:47:59.8825286Z [36;1mNew-Item -ItemType Directory -Force -Path $EXPECTED_SDK_PATH | Out-Null[0m
2025-11-10T12:47:59.8825806Z [36;1mRemove-Item -Recurse -Force (Join-Path $EXPECTED_SDK_PATH "Headers") -ErrorAction SilentlyContinue[0m
2025-11-10T12:47:59.8826403Z [36;1mRemove-Item -Recurse -Force (Join-Path $EXPECTED_SDK_PATH "Util") -ErrorAction SilentlyContinue[0m
2025-11-10T12:47:59.8826952Z [36;1mCopy-Item -Recurse -Force $sources.Headers (Join-Path $EXPECTED_SDK_PATH "Headers")[0m
2025-11-10T12:47:59.8827448Z [36;1mCopy-Item -Recurse -Force $sources.Util (Join-Path $EXPECTED_SDK_PATH "Util")[0m
2025-11-10T12:47:59.8827776Z [36;1m[0m
2025-11-10T12:47:59.8828077Z [36;1mif ((Test-Path "$EXPECTED_SDK_PATH\Headers") -and (Test-Path "$EXPECTED_SDK_PATH\Util")) {[0m
2025-11-10T12:47:59.8828596Z [36;1m  $headerCount = (Get-ChildItem "$EXPECTED_SDK_PATH\Headers" -File | Measure-Object).Count[0m
2025-11-10T12:47:59.8829105Z [36;1m  $utilCount = (Get-ChildItem "$EXPECTED_SDK_PATH\Util" -File | Measure-Object).Count[0m
2025-11-10T12:47:59.8829476Z [36;1m  LogInfo "AeSDK setup complete"[0m
2025-11-10T12:47:59.8829811Z [36;1m  LogInfo ("Headers: {0}\Headers ({1} files)" -f $EXPECTED_SDK_PATH, $headerCount)[0m
2025-11-10T12:47:59.8830232Z [36;1m  LogInfo ("Util    : {0}\Util ({1} files)" -f $EXPECTED_SDK_PATH, $utilCount)[0m
2025-11-10T12:47:59.8830533Z [36;1m} else {[0m
2025-11-10T12:47:59.8830705Z [36;1m  LogError "AeSDK setup failed"[0m
2025-11-10T12:47:59.8831004Z [36;1m  Write-Output ("Expected path: {0}" -f $EXPECTED_SDK_PATH)[0m
2025-11-10T12:47:59.8831668Z [36;1m  Write-Output "Presence check:"[0m
2025-11-10T12:47:59.8831930Z [36;1m  if (Test-Path "$EXPECTED_SDK_PATH") {[0m
2025-11-10T12:47:59.8832205Z [36;1m    Write-Output "  - Root directory exists"[0m
2025-11-10T12:47:59.8832445Z [36;1m  } else {[0m
2025-11-10T12:47:59.8832650Z [36;1m    Write-Output "  - Root directory is missing"[0m
2025-11-10T12:47:59.8832892Z [36;1m  }[0m
2025-11-10T12:47:59.8833082Z [36;1m  if (Test-Path "$EXPECTED_SDK_PATH\Headers") {[0m
2025-11-10T12:47:59.8833355Z [36;1m    Write-Output "  - Headers\ exists"[0m
2025-11-10T12:47:59.8833639Z [36;1m  } else {[0m
2025-11-10T12:47:59.8833968Z [36;1m    Write-Output "  - Headers\ is missing"[0m
2025-11-10T12:47:59.8834209Z [36;1m  }[0m
2025-11-10T12:47:59.8834401Z [36;1m  if (Test-Path "$EXPECTED_SDK_PATH\Util") {[0m
2025-11-10T12:47:59.8834654Z [36;1m    Write-Output "  - Util\ exists"[0m
2025-11-10T12:47:59.8834874Z [36;1m  } else {[0m
2025-11-10T12:47:59.8835063Z [36;1m    Write-Output "  - Util\ is missing"[0m
2025-11-10T12:47:59.8835289Z [36;1m  }[0m
2025-11-10T12:47:59.8835573Z [36;1m  Write-Output "Expanded directories:"[0m
2025-11-10T12:47:59.8835861Z [36;1m  $parentDir = Split-Path -Parent $EXPECTED_SDK_PATH[0m
2025-11-10T12:47:59.8836314Z [36;1m  Get-ChildItem $parentDir | Select-Object -First 20 | Format-Table Name, Length, LastWriteTime[0m
2025-11-10T12:47:59.8836704Z [36;1m  exit 1[0m
2025-11-10T12:47:59.8836851Z [36;1m}[0m
2025-11-10T12:47:59.8836993Z [36;1m[0m
2025-11-10T12:47:59.8837231Z [36;1mRemove-Item $outputPath -Force -ErrorAction SilentlyContinue[0m
2025-11-10T12:47:59.8837659Z [36;1mRemove-Item $extractDir -Recurse -Force -ErrorAction SilentlyContinue[0m
2025-11-10T12:47:59.8895895Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -command ". '{0}'"
2025-11-10T12:47:59.8896268Z env:
2025-11-10T12:47:59.8896683Z   GITHUB_TOKEN: ***
2025-11-10T12:47:59.8896862Z ##[endgroup]
2025-11-10T12:48:00.1613189Z At D:\a\_temp\65521dee-9896-4dd7-bf4b-d06fab6cdeb6.ps1:68 char:14
2025-11-10T12:48:00.1613970Z +     LogBlank()
2025-11-10T12:48:00.1614185Z +              ~
2025-11-10T12:48:00.1614508Z An expression was expected after '('.
2025-11-10T12:48:00.1615201Z     + CategoryInfo          : ParserError: (:) [], ParseException
2025-11-10T12:48:00.1615847Z     + FullyQualifiedErrorId : ExpectedExpression
2025-11-10T12:48:00.1616971Z  
2025-11-10T12:48:00.1794113Z ##[error]Process completed with exit code 1.
2025-11-10T12:48:00.2030624Z Post job cleanup.
2025-11-10T12:48:00.4291422Z [command]"C:\Program Files\Git\bin\git.exe" version
2025-11-10T12:48:00.4592547Z git version 2.51.2.windows.1
2025-11-10T12:48:00.4673518Z Temporarily overriding HOME='D:\a\_temp\8850deb0-c51e-4f38-bcdb-7825509c441b' before making global git config changes
2025-11-10T12:48:00.4674176Z Adding repository directory to the temporary git global config as a safe directory
2025-11-10T12:48:00.4685040Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\Ae_sep_color\Ae_sep_color
2025-11-10T12:48:00.4998580Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2025-11-10T12:48:00.5299937Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2025-11-10T12:48:01.0924797Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-10T12:48:01.1171781Z http.https://github.com/.extraheader
2025-11-10T12:48:01.1218862Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all http.https://github.com/.extraheader
2025-11-10T12:48:01.1521341Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2025-11-10T12:48:01.6913537Z Cleaning up orphan processes
